<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
				xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
				xmlns:pm="http://primefaces.org/modena" xmlns:f="http://java.sun.com/jsf/core">

	<f:loadBundle var="pricelistBundle" basename="PricelistBundle"/>
	<h:form id="add_segment_form">
		<p:dialog id="add_segment_dlg" header="#{pricelistBundle['box.pricelist.segment.add']}" width="500" styleClass="icon-creation"
				  widgetVar="addSegmentDlgVar" resizable="false" modal="true" closable="false" dynamic="true">

			<dl class="name-value width-150">
				<dt>
					<p:outputLabel value="#{pricelistBundle['box.pricelist.segment']}:"/>
				</dt>
				<dd>
					<p:selectCheckboxMenu label="#{pricelistBundle['box.pricelist.segment']}"
										  value="#{pricelistAddSegmentDialogModel.newSegments}" filter="true"
										  filterMatchMode="startsWith" required="true" styleClass="width-90-percents"
										  converter="persistentIdentifiableConverter">
						<f:selectItems value="#{pricelistAddSegmentDialogModel.segments}" var="segment"
									   itemLabel="#{segment.objectName}" itemValue="#{segment}"/>
					</p:selectCheckboxMenu>
				</dd>
			</dl>

			<div class="dialog-footer-buttons">
				<p:commandButton id="cancel_button" value="#{overallBundle['box.overall.cancel']}"
								 styleClass="m-blue-text-button" update="add_segment_dlg" process="@this"
								 action="#{pricelistAddSegmentDialogModel.cleanParams()}" onclick="PF('addSegmentDlgVar').hide()"/>
				<p:commandButton id="create_button" value="#{overallBundle['box.overall.create']}"
								 oncomplete="if (args &amp;&amp; !args.validationFailed) {PF('addSegmentDlgVar').hide()}"
								 action="#{pricelistAddSegmentDialogModel.add()}" process="add_segment_dlg" update="#{update}"/>
			</div>

		</p:dialog>
	</h:form>

</ui:composition>