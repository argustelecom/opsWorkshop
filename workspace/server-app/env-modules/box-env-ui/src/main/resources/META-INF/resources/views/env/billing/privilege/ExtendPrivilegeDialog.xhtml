<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
                xmlns:pm="http://primefaces.org/modena" xmlns:f="http://java.sun.com/jsf/core">

    <h:form id="extend_privilege_form">
        <p:dialog id="extend_privilege_dlg" header="#{extendPrivilegeDm.privilege.type.editDlgHeader}" width="600"
                  styleClass="icon-creation" widgetVar="extendPrivilegeDlgVar" resizable="false" modal="true"
                  closable="false" dynamic="true">

            <dl class="name-value width-150">
                <h:inputText styleClass="visibility-hidden width-0 no-bg-and-borders"/>
                <dt>
                    <p:outputLabel value="#{overallBundle['box.overall.object']}:"/>
                </dt>
                <dd>
                    <h:outputText value="#{extendPrivilegeDm.privilege.subject.name}"/>
                </dd>

                <dt>
                    <p:outputLabel for="valid_from" value="#{overallBundle['box.overall.valid_from']}:"/>
                </dt>
                <dd>
                    <h:outputText id="valid_from" value="#{extendPrivilegeDm.privilege.validFrom}">
                    	<sysinf:convertDateTime pattern="#{dateUtils.DATETIME_DEFAULT_PATTERN}" timeZone="#{TZ.userTimeZone}"/>
                    </h:outputText>

                    <p:outputLabel for="valid_to" value="#{overallBundle['box.overall.valid_to.short']}:" 
                    			   styleClass="m-tex-al-right width-17-percents"/>
                    <h:outputText id="valid_to" value="#{extendPrivilegeDm.privilege.validTo}">
                    	<sysinf:convertDateTime pattern="#{dateUtils.DATETIME_DEFAULT_PATTERN}" timeZone="#{TZ.userTimeZone}"/>
                    </h:outputText>
                </dd>

                <dt>
                    <p:outputLabel value="#{privilegeBundle['box.privilege.extend.label']}:"/>
                </dt>
                <dd>
                    <p:inputText value="#{extendPrivilegeDm.amount}" styleClass="width-17-percents m-mar-right10"
                                 label="#{privilegeBundle['box.privilege.extend.amount']}" required="true">
                        <f:validateLongRange minimum="1"/>
                    </p:inputText>
                    <p:selectOneMenu id="privilege_duration" value="#{extendPrivilegeDm.periodUnit}"
                                     styleClass="width-30-percents" label="#{privilegeBundle['box.privilege.extend.unit']}" 
                                     required="true">
                        <f:selectItem itemLabel=""/>
                        <f:selectItems value="#{extendPrivilegeDm.possiblePeriodUnits}" var="pu" itemValue="#{pu}" itemLabel="#{pu}"/>
                    </p:selectOneMenu>
                </dd>
            </dl>

            <div class="dialog-footer-buttons">
                <p:commandButton id="cancel_button" value="#{overallBundle['box.overall.cancel']}"
                                 styleClass="m-blue-text-button" update="extend_privilege_dlg"
                                 process="@this" onclick="PF('extendPrivilegeDlgVar').hide()" action="#{extendPrivilegeDm.clean()}"/>
                <p:commandButton id="create_button" value="#{overallBundle['box.overall.create']}"
                				 action="#{extendPrivilegeDm.extend()}"
                                 oncomplete="if (args &amp;&amp; !args.validationFailed) {PF('extendPrivilegeDlgVar').hide()}"
                                 update="#{update}"/>
            </div>

        </p:dialog>
    </h:form>

</ui:composition>