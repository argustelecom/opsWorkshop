<ui:composition template="/views/inf/page/View.xhtml" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:o="http://omnifaces.org/ui"
	xmlns:sys="http://argustelecom.ru/system" xmlns:sysinf="http://argustelecom.ru/system-inf"
	xmlns:pm="http://primefaces.org/modena">

	<ui:param name="viewTransient" value="true" />
	<ui:param name="viewModel" value="#{paLoginViewModel}" />
	<ui:param name="pageTitle" value="#{personalAreaBundle['box.pa']}"/>

	<ui:define name="head">
		<h:outputStylesheet name="box-inf/styles/login.css" />
	</ui:define>

	<ui:define name="layout">
		<f:loadBundle var="personalAreaBundle" basename="PersonalAreaBundle"/>

		<div id="login_panel_container">
			<p:outputPanel id="content_body">

				<div class="ui-login-card-header fs30">
					<span>#{personalAreaBundle['box.pa.customer']}</span>
				</div>

				<h:form id="login_form">
					<div class="ui-login-card m-shadow-effect">
						<div class="ui-login-card-header fs30">
							<i class="icon-security fs60 m-disp-block" /> <span>#{personalAreaBundle['box.pa.login.sign_in.msg']}</span>
						</div>

						<div class="ui-credential-container">
							<p:inputText id="username"
										 value="#{paLoginViewModel.username}"
										 required="true"
										 label="#{personalAreaBundle['box.pa.login']}"
										 placeholder="#{personalAreaBundle['box.pa.login']}"
										 styleClass="fs18 m-wid80" />
						</div>

						<div class="m-empty-box10" />

						<div class="ui-credential-container">
							<p:password id="password"
										value="#{paLoginViewModel.password}"
										required="true"
										label="#{personalAreaBundle['box.pa.login.password']}"
										placeholder="#{personalAreaBundle['box.pa.login.password']}"
										styleClass="fs18 m-wid80">
								<f:validateBean disabled="true" />
							</p:password>
						</div>

						<div class="ui-login-card-separator" />

						<div id="login_form-submit_container" class="text-right">
							<p:commandButton id="submit" value="#{personalAreaBundle['box.pa.login.sign_in']}"
								action="#{paLoginViewModel.login(false)}" process="@form" update="@form" disabled="#{paLoginViewModel.leaving}"
								styleClass="ui-priority-primary" />
						</div>
					</div>
				</h:form>

				<p:messages id="login_msg" autoUpdate="true" showIcon="false" showDetail="true" />
			</p:outputPanel>
		</div>

		<!-- p:defaultCommand не дает выбирать по ентеру в браузерном автокомплите, поэтому здесь не отключаем
			браузерный автосабмит - на данной странице его поведение желательно -->
		<script>
			Argus.System.BrowserAutoSubmitOnEnter.enable();
		</script>
	</ui:define>

	<!-- убрать лишнее -->
	<ui:define name="globalEditor" />

</ui:composition>