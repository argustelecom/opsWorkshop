<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:p="http://primefaces.org/ui" xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
				xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:pe="http://primefaces.org/ui/extensions">
	<f:event listener="#{portDetailInfoFrameModel.preRender(port)}"
			 type="preRenderComponent"/>
	<f:loadBundle basename="NriCommonBundle" var="nriBundle"/>
	<o:importConstants type="ru.argustelecom.box.nri.ports.model.PortType"/>
	<o:importConstants type="ru.argustelecom.box.nri.ports.model.TransmissionMedium"/>
	<p:outputPanel styleClass="m-pad-left-0" rendered="#{portDetailInfoFrameModel.port ne null}">
		<dl class="name-value width-170">
			<dt>
				<p:outputLabel for="port_number"
							   value="#{portsBundle['box.nri.ports.port_number']}"/>
			</dt>

			<dd>
				<p:inputText id="port_number" value="#{portDetailInfoFrameModel.port.portNumber}"
							 required="true" maxlength="50" onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;"/>
			</dd>

			<dt>
				<p:outputLabel
						value="#{portsBundle['box.nri.ports.name']}"/>
			</dt>
			<dd>
				<p:inputText value="#{portDetailInfoFrameModel.port.portName}"/>

			</dd>

			<dt>
				<p:outputLabel
						value="#{portsBundle['box.nri.ports.medium']}"/>
			</dt>
			<dd>
				<p:selectOneMenu value="#{portDetailInfoFrameModel.port.transmissionMedium}"
								 id="medium">
					<f:selectItems var="entry" itemValue="#{entry}" itemLabel="#{entry.name}"
								   value="#{port.type.supportedTransmissionMediums}"/>
				</p:selectOneMenu>
			</dd>
			<dt>
				<p:outputLabel
						value="#{portsBundle['box.nri.ports.access_technology']}"/>
			</dt>
			<dd>
				<p:selectOneMenu value="#{portDetailInfoFrameModel.port.accessTechnology}"
								 id="technology">
					<f:selectItems var="entry" itemValue="#{entry}" itemLabel="#{entry}"
								   value="#{port.type.supportedAccessTechnologies}"/>
				</p:selectOneMenu>
			</dd>
			<dt>
				<p:outputLabel for="condition"
							   value="#{portsBundle['box.nri.ports.technical_сondition']}"/>
			</dt>
			<dd>
				<p:selectOneMenu value="#{portDetailInfoFrameModel.port.technicalCondition}"
								 id="condition" required="true">
					<f:selectItems var="entry" itemValue="#{entry}" itemLabel="#{entry.name}"
								   value="#{portDetailInfoFrameModel.possiblePortTechnicalConditions}"/>
				</p:selectOneMenu>
			</dd>
			<dt>
				<p:outputLabel for="purpos"
							   value="#{portsBundle['box.nri.ports.purpose']}"/>
			</dt>
			<dd>
				<p:selectOneMenu value="#{portDetailInfoFrameModel.port.portPurpose}"
								 required="true"
								 id="purpos">
					<f:selectItems var="entry" itemValue="#{entry}" itemLabel="#{entry.name}"
								   value="#{portDetailInfoFrameModel.possiblePortPurposes}"/>
				</p:selectOneMenu>
			</dd>
		</dl>
		<!--Дополнительные параметры в зависимости от типа порта-->

		<pe:switch value="#{portDetailInfoFrameModel.port.type}">
			<!--ETHERNET PORT-->
			<pe:case value="#{PortType.ETHERNET_PORT}">
				<dl class="name-value width-170">
					<dt>
						<p:outputLabel
								value="#{portsBundle['box.nri.ports.mac']}"/>
					</dt>
					<dd>
						<p:inputText value="#{portDetailInfoFrameModel.port.macAddress}">
							<o:validator validatorId="javax.faces.RegularExpression"
										 message="#{commonBundle['box.nri.common.mac_reg_mismatch']}"
										 pattern="^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"/>
						</p:inputText>
					</dd>
					<dt>
						<p:outputLabel for="eth_port_type"
									   value="#{portsBundle['box.nri.ports.port_type']}"/>
					</dt>
					<dd>
						<p:selectOneMenu value="#{portDetailInfoFrameModel.port.portType}"
										 label="#{portDetailInfoFrameModel.port.portType.name}"
										 required="true"
										 id="eth_port_type">
							<f:selectItems var="entry" itemValue="#{entry}" itemLabel="#{entry.name}"
										   value="#{portDetailInfoFrameModel.possibleEthernetPortTypes}"/>
						</p:selectOneMenu>
					</dd>
				</dl>
			</pe:case>
			<!--XDSL_PORT-->
			<pe:case value="#{PortType.XDSL_PORT}">
				<dl class="name-value width-170">
					<dt>
						<p:outputLabel
								value="#{portsBundle['box.nri.ports.mac']}"/>
					</dt>
					<dd>
						<p:inputText value="#{portDetailInfoFrameModel.port.macAddress}">

							<o:validator validatorId="javax.faces.RegularExpression"
										 message="#{commonBundle['box.nri.common.mac_reg_mismatch']}"
										 pattern="^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"/>
						</p:inputText>
					</dd>
					<dt>
						<p:outputLabel value="#{portsBundle['box.nri.ports.port_type']}"/>
					</dt>
					<dd>
						<p:selectOneMenu value="#{portDetailInfoFrameModel.port.portType}" required="true">
							<f:selectItems var="entry" itemValue="#{entry}" itemLabel="#{entry}"
										   value="#{portDetailInfoFrameModel.possibleXDslPortTypes}"/>
						</p:selectOneMenu>
					</dd>
				</dl>
			</pe:case>
			<!--OPTIC_SPLITTER-->
			<pe:case value="#{PortType.OPTIC_SPLITTER}">
				<dl class="name-value width-170">
					<dt>
						<p:outputLabel
								value="#{portsBundle['box.nri.ports.optic_splitter.connector_type']}"/>
					</dt>
					<dd>
						<p:selectOneMenu value="#{portDetailInfoFrameModel.port.connectorType}">
							<f:selectItem value="#{null}" itemLabel=""/>
							<f:selectItems var="entry" itemValue="#{entry}" itemLabel="#{entry}"
										   value="#{portDetailInfoFrameModel.possiblePonConnectorTypes}"/>
						</p:selectOneMenu>
					</dd>
					<dt>
						<p:outputLabel value="#{portsBundle['box.nri.ports.optic_splitter.role']}"/>
					</dt>
					<dd>
						<p:selectOneMenu value="#{portDetailInfoFrameModel.port.role}" required="true">
							<f:selectItems var="entry" itemValue="#{entry}" itemLabel="#{entry.name}"
										   value="#{portDetailInfoFrameModel.possibleRoles}"/>
						</p:selectOneMenu>
					</dd>
				</dl>
			</pe:case>
			<!--PON_PORT-->
			<pe:case value="#{PortType.PON_PORT}">
				<dl class="name-value width-170">
					<dt>
						<p:outputLabel
								value="#{portsBundle['box.nri.ports.pon.connector_type']}"/>
					</dt>
					<dd>
						<p:selectOneMenu value="#{portDetailInfoFrameModel.port.connectorType}">
							<f:selectItem value="#{null}" itemLabel=""/>
							<f:selectItems var="entry" itemValue="#{entry}" itemLabel="#{entry}"
										   value="#{portDetailInfoFrameModel.possiblePonConnectorTypes}"/>
						</p:selectOneMenu>
					</dd>
					<dt>
						<p:outputLabel value="#{portsBundle['box.nri.ports.pon.max_subscriber_num']}"/>
					</dt>
					<dd>
						<p:selectOneMenu value="#{portDetailInfoFrameModel.port.maxSubscriberNum}" required="true">
							<f:selectItems var="entry" itemValue="#{entry}" itemLabel="#{entry}"
										   value="#{portDetailInfoFrameModel.possibleMaxSubscriberNums}"/>
						</p:selectOneMenu>
					</dd>
				</dl>
			</pe:case>
			<!--OPTIC_TRANSCEIVER-->
			<pe:case value="#{PortType.OPTIC_TRANSCEIVER}">
				<dl class="name-value width-170">
					<dt>
						<p:outputLabel value="#{portsBundle['box.nri.ports.optic_trans.serial_num']}"/>
					</dt>
					<dd>
						<p:inputText value="#{portDetailInfoFrameModel.port.serialNum}"
									 maxlength="50"/>
					</dd>
					<dt>
						<p:outputLabel value="#{portsBundle['box.nri.ports.optic_trans.mac_address']}"/>
					</dt>
					<dd>
						<p:inputText value="#{portDetailInfoFrameModel.port.macAddress}"
									 maxlength="50">
							<o:validator validatorId="javax.faces.RegularExpression"
										 message="#{commonBundle['box.nri.common.mac_reg_mismatch']}"
										 pattern="^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"/>
						</p:inputText>
					</dd>
					<dt>
						<p:outputLabel value="#{portsBundle['box.nri.ports.optic_trans.form_factor']}"/>
					</dt>
					<dd>
						<p:selectOneMenu value="#{portDetailInfoFrameModel.port.formFactor}">
							<f:selectItem value="#{null}" itemLabel=""/>
							<f:selectItems var="entry" itemValue="#{entry}" itemLabel="#{entry.name}"
										   value="#{portDetailInfoFrameModel.possibleOpticTransceiverFormFactors}"/>
						</p:selectOneMenu>
					</dd>
					<dt>
						<p:outputLabel value="#{portsBundle['box.nri.ports.optic_trans.wave_lenght']}"/>
					</dt>
					<dd>
						<p:selectOneMenu value="#{portDetailInfoFrameModel.port.waveLength}">
							<f:selectItem value="#{null}" itemLabel=""/>
							<f:selectItems var="entry" itemValue="#{entry}" itemLabel="#{entry}"
										   value="#{portDetailInfoFrameModel.possibleOpticTransceiverWaveLengths}"/>
						</p:selectOneMenu>
					</dd>
				</dl>
			</pe:case>
			<!--PASSIVE_PORT-->
			<pe:case value="#{PortType.PASSIVE_PORT}">
				<dl class="name-value width-170">
					<dt>
						<p:outputLabel
								value="#{portsBundle['box.nri.ports.passive.port_type']}"/>
					</dt>
					<dd>
						<p:selectOneMenu value="#{portDetailInfoFrameModel.port.portType}">
							<f:selectItems var="entry" itemValue="#{entry}" itemLabel="#{entry}"
										   value="#{portDetailInfoFrameModel.possiblePassivePortTypes}"/>
						</p:selectOneMenu>
					</dd>
				</dl>
			</pe:case>
			<!--COMBO_PORT-->
			<pe:case value="#{PortType.COMBO_PORT}">
				<dl class="name-value width-170">
					<dt>
						<p:outputLabel
								value="#{portsBundle['box.nri.ports.combo.usage_type']}"/>
					</dt>
					<dd>
						<p:selectOneMenu value="#{portDetailInfoFrameModel.port.usageType}">

							<p:ajax event="change" update="portType"/>
							<f:selectItems var="entry" itemValue="#{entry}" itemLabel="#{entry.name}"
										   value="#{portDetailInfoFrameModel.possibleComboPortUsageTypes}"/>
						</p:selectOneMenu>
					</dd>
					<dt>
						<p:outputLabel
								value="#{portsBundle['box.nri.ports.port_type']}"/>
					</dt>
					<dd>
						<p:selectOneMenu id="portType" value="#{portDetailInfoFrameModel.port.portType}"
										 disabled="#{portDetailInfoFrameModel.port.usageType ne 'ETHERNET_PORT'}"
										 label="#{portDetailInfoFrameModel.port.portType.name}">
							<f:selectItem value="#{null}" itemLabel=""/>
							<f:selectItems var="entry" itemValue="#{entry}" itemLabel="#{entry.name}"
										   value="#{portDetailInfoFrameModel.possibleEthernetPortTypes}"/>
						</p:selectOneMenu>
					</dd>
					<dt>
						<p:outputLabel value="#{portsBundle['box.nri.ports.combo.mac_address']}"/>
					</dt>
					<dd>
						<p:inputText value="#{portDetailInfoFrameModel.port.macAddress}"
									 maxlength="50">
							<o:validator validatorId="javax.faces.RegularExpression"
										 message="#{commonBundle['box.nri.common.mac_reg_mismatch']}"
										 pattern="^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"/>
						</p:inputText>
					</dd>
				</dl>
			</pe:case>

		</pe:switch>
	</p:outputPanel>
</ui:composition>