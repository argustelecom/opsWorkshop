<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
              xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
              xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
              xmlns:pt="http://xmlns.jcp.org/jsf/passthrough" xmlns:p="http://primefaces.org/ui"
              xmlns:pe="http://primefaces.org/ui/extensions" xmlns:o="http://omnifaces.org/ui"
              xmlns:sysinf="http://argustelecom.ru/system-inf">

    <div class="m-container100 m-responsive100">
        <p:outputPanel id="upload_step_panel" styleClass="box-wizard">

            <ui:fragment rendered="#{tariffEntryImportDm.file eq null}">
                <p:fileUpload fileUploadListener="#{tariffEntryImportDm.handleFileUpload}"
                              mode="advanced" label="#{overallBundle['box.overall.upload']}"
                              auto="true" allowTypes="/(\.|\/)(csv)$/" required="true"
                              update="tariff_entry_import_form-upload_step_panel upload_nav_panel"/>
            </ui:fragment>

            <p:outputPanel rendered="#{tariffEntryImportDm.file ne null}">
                <h:outputText styleClass="fs16 m-disp-inl-block m-mar-right10"
                              value="#{tariffBundle['box.telephony.tariff.import.upload.uploaded']}:"/>
                <h:outputText styleClass="fs18 break-word m-font-roboto-regular"
                              value="#{tariffEntryImportDm.fileName}"/>

                <p:commandLink action="#{tariffEntryImportDm.reset()}"
                               process="@this" update="tariff_entry_import_form-upload_step_panel upload_nav_panel">
                    <i class="icon-cancel m-red fs24"/>
                </p:commandLink>
            </p:outputPanel>

        </p:outputPanel>
    </div>

    <h:panelGroup id="upload_nav_panel" layout="block" styleClass="dialog-footer-buttons">
        <p:commandButton value="#{overallBundle['box.overall.next']}"
                         action="#{tariffEntryImportDm.clearSelectedAttributes()}"
                         oncomplete="PF('entryImportWizardVar').next()"
                         disabled="#{tariffEntryImportDm.file eq null}"/>
    </h:panelGroup>

</ui:composition>
