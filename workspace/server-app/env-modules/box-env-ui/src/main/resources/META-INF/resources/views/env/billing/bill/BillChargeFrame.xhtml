<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core" xmlns:boxenv="http://argustelecom.ru/box/env">

    <div class="m-container100 m-responsive100">
        <div class="m-container-indent">
            <div class="m-card m-shadow-effect simple-fb">
                <h:form id="invoice_entries_form">
                    <f:event type="preRenderComponent" listener="#{billChargesFm.preRender()}"/>

                    <div class="ui-dashboard-header">
                        <i class="icon-receipt"/>
                        <h:outputText styleClass="card-header" value="#{billBundle['box.bill.charge.plural']}"/>
                    </div>

                    <p:dataTable value="#{billChargesFm.chargesDto.chargesAggDtos}" var="charge" tableStyle="table-layout: auto;"
                                 emptyMessage="#{overallBundle['box.overall.empty']}">

                        <p:column headerText="#{billBundle['box.bill.subject']}">
                            <h:outputText value="#{charge.subjectName}"/>
                        </p:column>

                        <p:column headerText="#{billBundle['box.bill.charges.amount.exclude_vat']}" styleClass="m-tex-al-right">
                            <boxenv:money value="#{charge.sumWithoutTax}" size="fs14" unicolour="true"/>
                        </p:column>

                        <p:column headerText="#{billBundle['box.bill.charges.amount.vat']}" styleClass="m-tex-al-right">
                            <boxenv:money value="#{charge.tax}" size="fs14" unicolour="true"/>
                        </p:column>

                        <p:column headerText="#{billBundle['box.bill.charges.amount.include_vat']}" styleClass="m-tex-al-right">
                            <boxenv:money value="#{charge.sumWithTax}" size="fs14" unicolour="true"/>
                        </p:column>

                        <p:columnGroup type="footer" rendered="#{not empty billChargesFm.chargesDto}">
                            <p:row>
                                <p:column footerText="#{overallBundle['box.overall.total']}"/>

                                <p:column footerText="#{billChargesFm.chargesDto.sumWithoutTax.roundAmount}" styleClass="fa #{moneyBeautifier.defaultCurrency.icon} table-footer-currency"/>

                                <p:column footerText="#{billChargesFm.chargesDto.taxTotal.roundAmount}" styleClass="fa #{moneyBeautifier.defaultCurrency.icon} table-footer-currency"/>

                                <p:column footerText="#{billChargesFm.chargesDto.sumWithTaxTotal.roundAmount}" styleClass="fa #{moneyBeautifier.defaultCurrency.icon} table-footer-currency"/>

                            </p:row>
                        </p:columnGroup>

                    </p:dataTable>

                </h:form>
            </div>
        </div>
    </div>

</ui:composition>