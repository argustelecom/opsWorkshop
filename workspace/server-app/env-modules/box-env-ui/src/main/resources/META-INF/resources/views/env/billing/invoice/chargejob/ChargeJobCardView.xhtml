<ui:composition template="/views/inf/page/View.xhtml" xmlns="http://www.w3.org/1999/xhtml"
				xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:p="http://primefaces.org/ui">

    <ui:param name="viewModel" value="#{chargeJobCardVm}"/>
    <ui:param name="pageTitle" value="#{chargeJobBundle['box.charge_job']}"/>

    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam name="chargeJob" value="#{currentChargeJob.value}" required="#{!facesContext.postback}"
                         requiredMessage="chargeJob param required"/>
        </f:metadata>
    </ui:define>

    <ui:define name="head">
        <h:outputStylesheet name="box-env/styles/box-env.css"/>
        <h:outputStylesheet name="inf/styles/box-functional-block.css"/>
        <f:loadBundle var="chargeJobBundle" basename="ChargeJobBundle"/>
    </ui:define>

    <ui:define name="pagePath">
        <p:menuitem value="#{overallBundle['box.overall.home']}" url="/views/env/home/HomeView.xhtml"/>
        <p:menuitem value="#{chargeJobBundle['box.charge_job.plural']}"
                    url="/views/env/billing/invoice/chargejob/ChargeJobListView.xhtml"
                    disabled="#{!p:ifGranted('Billing_ChargeJobView')}"/>
        <p:menuitem value="#{chargeJobBundle['box.charge_job.job']} #{chargeJobCardVm.currentChargeJob.value.mediationId}"/>
    </ui:define>

    <ui:define name="body">
        <ui:include src="ChargeJobAttributesFrame.xhtml">
            <ui:param name="chargeJob" value="#{chargeJobCardVs.chargeJob}"/>
        </ui:include>

		<div class="m-container100 m-responsive100">

			<div class="m-container50 m-responsive100">
				<ui:include src="ChargeJobFilterFrame.xhtml">
					<ui:param name="filter" value="#{chargeJobCardVs.chargeJob.filter}"/>
				</ui:include>
			</div>

			<div class="m-container50 m-responsive100">
				<div class="m-container-indent">
					<div class="m-card m-shadow-effect m-hei-auto-on-mobile">
						<ui:include src="/views/env/activity/ActivityFrame.xhtml">
							<ui:param name="contextObject" value="#{chargeJobCardVs.chargeJob.getIdentifiable()}"/>
						</ui:include>
					</div>
				</div>
			</div>
		</div>
    </ui:define>

    <ui:define name="dialogs">
		<ui:include src="/views/env/activity/comment/CommentEditDialog.xhtml"/>
    </ui:define>

</ui:composition>