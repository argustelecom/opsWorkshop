<ui:composition template="/views/inf/page/View.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
                xmlns:pm="http://primefaces.org/modena" xmlns:boxenv="http://argustelecom.ru/box/env">

    <ui:param name="viewModel" value="#{personalAreaVM}"/>
    <ui:param name="pageTitle" value="#{personalAreaBundle['box.pa']}"/>

    <ui:define name="head">
        <h:outputStylesheet name="box-env/styles/box-env.css"/>
        <h:outputStylesheet name="inf/styles/box-functional-block.css"/>
		<f:loadBundle var="personalAreaBundle" basename="PersonalAreaBundle"/>

	</ui:define>

    <div class="m-container100">
        <div class="m-container-indent">
            <ui:define name="pageHeader">
                <span class="m-tex-al-center m-bold-gray fs25 m-font-roboto-regular pa-topic">#{personalAreaVM.welcomeText}</span>
			</ui:define>

		</div>
    </div>

    <ui:define name="body">
		<ui:fragment rendered="#{not empty personalAreaVM.accounts}">
        	<div class="m-container100 m-responsive100">

            	<ui:fragment rendered="#{personalAreaVM.showAccountList()}">
                	<ui:include src="PersonalAreaAccountsFrame.xhtml">
                    	<ui:param name="update" value="-personal_area_attributes_form -subscriptions_form -transactions_form"/>
                	</ui:include>
            	</ui:fragment>

            	<div class="#{personalAreaVM.showAccountList() ? 'm-container75' : 'm-container100'} m-responsive100">

                	<ui:include src="PersonalAreaAttributesFrame.xhtml"/>

                	<div class="m-container100 m-responsive100">
                    	<div class="m-container50 m-responsive100">
                        	<ui:include src="PersonalAreaSubscriptonsFrame.xhtml"/>
                    	</div>

                    	<div class="m-container50 m-responsive100">
                        	<ui:include src="PersonalAreaTransactionsFrame.xhtml">
                        		<ui:param name="account" value="#{personalAreaVM.selectedAccount}" />
                        	</ui:include>
                    	</div>
                	</div>
            	</div>
        	</div>
        </ui:fragment>
    </ui:define>

</ui:composition>