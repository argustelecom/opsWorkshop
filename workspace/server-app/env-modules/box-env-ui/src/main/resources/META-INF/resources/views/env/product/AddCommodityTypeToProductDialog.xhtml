<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
				xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
				xmlns:pm="http://primefaces.org/modena" xmlns:f="http://java.sun.com/jsf/core">

	<h:form id="add_commodity_type_form">
		<p:dialog id="add_commodity_type_dlg"
				  header="#{productBundle['box.product.dir.commodity.create_dialog']}"
				  width="500" styleClass="icon-creation"
				  widgetVar="addCommodityTypeDlgVar" resizable="false" modal="true" closable="false" dynamic="true">

			<p:selectManyMenu value="#{productTypeCompositionFm.selectedCommodityTypes}" converter="persistentIdentifiableConverter"
							  var="cs" filter="true" filterMatchMode="contains" showCheckbox="true" scrollHeight="300" style="width: 100%">
				<f:selectItems value="#{productTypeCompositionFm.possibleCommodityTypes}" var="commodityType"
							   itemLabel="#{commodityType.name}" itemValue="#{commodityType}"/>

				<p:column>
					<h:outputText value="#{cs.name}"/>
				</p:column>
			</p:selectManyMenu>

			<div class="dialog-footer-buttons">
				<p:commandButton id="cancel_button" value="#{overallBundle['box.overall.cancel']}"
								 styleClass="m-blue-text-button" update="add_commodity_type_dlg"
								 process="@this" action="#{productTypeCompositionFm.cleanParams()}"
								 onclick="PF('addCommodityTypeDlgVar').hide()"/>
				<p:commandButton id="add_button" value="#{overallBundle['box.overall.create']}" process="add_commodity_type_dlg"
								 oncomplete="if (args &amp;&amp; !args.validationFailed) {PF('addCommodityTypeDlgVar').hide()}"
								 action="#{productTypeCompositionFm.addCommodityTypes()}" update="#{update}"/>
			</div>

		</p:dialog>
	</h:form>

</ui:composition>