<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
				xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
				xmlns:pm="http://primefaces.org/modena" xmlns:f="http://java.sun.com/jsf/core">

	<div class="#{containerClass eq null ? 'm-container50' : containerClass} m-responsive100">
		<div class="m-container-indent">
			<div class="m-card m-shadow-effect m-hei-auto-on-mobile simple-fb">
				<h:form id="connection_address_info_form" style="height: #{height}px;">

					<f:event type="preRenderComponent" listener="#{orderConnectionAddressFM.preRender(order)}"/>

					<o:importConstants type="ru.argustelecom.box.env.party.CustomerCategory" var="category"/>
					<o:importConstants type="ru.argustelecom.box.env.order.lifecycle.OrderLifecycle.Behaviors" var="behavior"/>

					<div class="ui-dashboard-header">
						<i class="icon-location_city"/>
						<h:outputText value="#{orderBundle['box.order.address.provision']}"/>

						<p:outputPanel styleClass="m-fright">
							<p:commandLink styleClass="m-mar-left10" title="#{overallBundle['box.overall.add']}"
											rendered="#{!behaviorUtils.isForbidden(orderConnectionAddressFM.order, behavior.connectionAddress)
											or !behaviorUtils.isForbidden(orderConnectionAddressFM.order, behavior.connectionAddressComment)}"
											disabled="#{!p:ifGranted('CRM_OrderEdit')}" oncomplete="PF('changeOrderConnectionAddressDlgVar').show()">
											<i class="fa fa-edit icon-btn"/>
											<f:setPropertyActionListener value="#{orderConnectionAddressFM.changeConnectionAddressCallback}"
												target="#{changeOrderConnectionAddressDialogModel.changeConnectionAddressCallback}"/>
							</p:commandLink>
						</p:outputPanel>
					</div>

					<dl class="name-value width-150">
						<dt>
							<p:outputLabel for="connection_address" value="#{orderBundle['box.order.address']}:"/>
						</dt>
						<dd>
							<h:outputText id="connection_address" value="#{orderConnectionAddressFM.connectionAddress.fullName}"
										  title="#{orderConnectionAddressFM.addressTitle()}" style="color: #{orderConnectionAddressFM.addressColor()}"/>
						</dd>

						<ui:fragment rendered="#{orderConnectionAddressFM.haveCoverage()}">
							<dt>

							</dt>
							<dd>
								<h:outputText id="coverage_comment" value="#{orderConnectionAddressFM.coverage.note}"/>
							</dd>
						</ui:fragment>

						<dt>
							<p:outputLabel for="connection_address_comment" value="#{overallBundle['box.overall.desc']}:"/>
						</dt>
						<dd>
							<h:outputText id="connection_address_comment" value="#{orderConnectionAddressFM.order.connectionAddressComment}"/>
						</dd>
					</dl>
				</h:form>
			</div>
		</div>
	</div>

</ui:composition>