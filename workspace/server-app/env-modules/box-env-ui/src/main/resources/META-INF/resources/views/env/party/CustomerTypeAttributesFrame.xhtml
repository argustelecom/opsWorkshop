<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
				xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
				xmlns:pm="http://primefaces.org/modena" xmlns:f="http://java.sun.com/jsf/core">

	<div class="m-container100">
		<div class="m-container-indent">
			<div class="m-card m-shadow-effect">
				<h:form id="customer_type_attributes_form">

					<p:outputPanel id="customer_type_attributes_panel">

						<f:event listener="#{customerTypeAttributesFm.preRender()}" type="preRenderComponent"/>

						<div class="columns">
							<div class="column m-pad-0">
								<p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank m-tex-al-center column-id">
									<i class="#{customerTypeAttributesFm.currentCustomerTypeIconValue} fs60"/>
									<h:outputText value="#{overallBundle['box.overall.id']} #{customerTypeAttributesFm.customerType.id}"/>
								</p:panelGrid>
							</div>

							<div class="column width-100-percents">
								<div class="columns">
									<div class="column m-container50 m-responsive100">
										<sysinf:editableSection disabled="#{!p:ifGranted('System_CustomerTypeEdit') or customerTypeAttributesFm.customerType == null}" saveLabel="#{overallBundle['box.overall.save']}" cancelLabel="#{overallBundle['box.overall.cancel']}">

											<p:ajax event="save" update="#{update}"/>

											<p:outputPanel rendered="#{customerTypeAttributesFm.customerType ne null}">
												<dl class="name-value width-120">
													<dt>
														<p:outputLabel for="name" value="#{overallBundle['box.overall.name']}:"/>
													</dt>
													<dd>
														<p:inputText id="name" value="#{customerTypeAttributesFm.customerType.name}" required="true" maxlength="64"/>
													</dd>

													<dt>
														<p:outputLabel for="new_party_type" value="#{customerTypeBundle['box.customer.type.party.type']}:"/>
													</dt>
													<dd>
														<p:selectOneMenu id="new_party_type" value="#{customerTypeAttributesFm.customerType.partyType}"
																 required="true" filter="true" filterMatchMode="startWith" var="ps"
																 label="#{customerTypeBundle['box.customer.type.party.type']}">
															<f:selectItems value="#{customerTypeAttributesFm.allPartyTypes}" var="partyType"
																		   itemValue="#{partyType}" itemLabel="#{partyType.objectName}"/>

															<p:column>
																<i class="#{ps.category.icon}"/>
															</p:column>

															<p:column>
																<h:outputText value="#{ps.objectName}"/>
															</p:column>
														</p:selectOneMenu>
													</dd>

													<!--<dt>
														<p:outputLabel for="keyword" value="#{overallBundle['box.overall.keyword}:"/>
													</dt>
													<dd>
														<p:inputText id="keyword" value="#{customerTypeAttributecustomerTypeType.keyword}" maxlength="64">
													</dd>-->
												</dl>
											</p:outputPanel>

										</sysinf:editableSection>
									</div>

									<div class="column m-container50 m-responsive100">
										<div class=" m-pos-relative">
											<div class="hover-overlay-block">
												<sysinf:editableSection disabled="#{!p:ifGranted('System_CustomerTypeEdit') or customerTypeAttributesFm.customerType == null}"
															saveLabel="#{overallBundle['box.overall.save']}"
															cancelLabel="#{overallBundle['box.overall.cancel']}">

													<p:ajax event="save" update="#{update}"/>

													<p:outputPanel rendered="#{customerTypeAttributesFm.customerType ne null}">
														<dl class="name-value width-100">
															<dt>
																<p:outputLabel for="description" value="#{overallBundle['box.overall.desc']}:"/>
															</dt>
															<dd class="auto-height">
																<p:inputTextarea id="description" value="#{customerTypeAttributesFm.customerType.description}"
																		 rows="3" counter="description_display" maxlength="256"
																		 counterTemplate="#{overallBundle['box.overall.chars_left']}"/>
																<h:outputText id="description_display" styleClass="fs12"/>
															</dd>
														</dl>
													</p:outputPanel>
												</sysinf:editableSection>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</p:outputPanel>
				</h:form>
			</div>
		</div>
	</div>

</ui:composition>