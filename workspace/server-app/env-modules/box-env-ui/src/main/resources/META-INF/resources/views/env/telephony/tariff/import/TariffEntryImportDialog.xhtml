<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
				xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
				xmlns:pm="http://primefaces.org/modena" xmlns:f="http://java.sun.com/jsf/core"
				xmlns:boxenv="http://argustelecom.ru/box/env">

	<h:form id="tariff_entry_import_form">

		<o:importConstants type="ru.argustelecom.box.env.telephony.tariff.TariffEntryImportDialogModel.Step"
						   var="step"/>
		<p:remoteCommand name="onCancel" action="#{tariffEntryImportDm.onCancel}" autoRun="false"
						 oncomplete="PF('tariffEntryImportDlgVar').hide(); PF('entryImportWizardVar').loadStep('#{step.UPLOAD.id}', false)"
						 update="#{update}"/>

		<p:dialog id="tariff_entry_import_dlg" header="#{tariffBundle['box.telephony.tariff.entry.dialog.header']}"
				  widgetVar="tariffEntryImportDlgVar" width="1100" resizable="true" modal="true" closable="true"
				  dynamic="true" styleClass="icon-creation" closeOnEscape="true" onHide="onCancel()">


			<p:wizard id="tariff_entry_import_wizard" widgetVar="entryImportWizardVar"
					  flowListener="#{tariffEntryImportDm.handleImportFlow}"
					  step="#{step.UPLOAD.id}"
					  showNavBar="false"
					  styleClass="dialog-nav-wizard">

				<p:tab id="#{step.UPLOAD.id}" title="#{tariffBundle['box.telephony.tariff.import.step.upload']}">
					<ui:include src="TariffEntryImportUploadFrame.xhtml"/>
				</p:tab>

				<p:tab id="#{step.MAP.id}" title="#{tariffBundle['box.telephony.tariff.import.step.map']}">
					<ui:include src="TariffEntryImportMapFrame.xhtml"/>
				</p:tab>

				<p:tab id="#{step.VALIDATION.id}" title="#{tariffBundle['box.telephony.tariff.import.step.validation']}">
					<ui:include src="TariffEntryValidationFrame.xhtml"/>
				</p:tab>

				<p:tab id="#{step.FINISHED.id}" title="#{tariffBundle['box.telephony.tariff.import.step.finish']}">
					<ui:include src="TariffEntryFinishedFrame.xhtml"/>
				</p:tab>

			</p:wizard>
		</p:dialog>
	</h:form>
</ui:composition>