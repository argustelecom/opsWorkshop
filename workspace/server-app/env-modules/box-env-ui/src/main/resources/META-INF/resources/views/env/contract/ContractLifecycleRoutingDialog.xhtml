<ui:composition template="/views/env/lifecycle/LifecycleRoutingDialog.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
				xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
				xmlns:pm="http://primefaces.org/modena" xmlns:f="http://java.sun.com/jsf/core"
				xmlns:boxenv="http://argustelecom.ru/box/env">

	<f:loadBundle var="contractBundle" basename="ContractBundle"/>
	<ui:define name="extension">
		<ui:fragment rendered="#{contractLifecycleExtenderFm.renderContent}">

			<div class="message message-bg-info message-info message-icon message-icon-info">
				<p>#{contractBundle['box.contract.lc.route.activate.msg']}</p>
			</div>
			<div class="table-scrolled-200">
				<p:dataTable id="mapping_table" value="#{contractLifecycleExtenderFm.entryCorrectionList}" var="entryCorrection"
							 tableStyle="table-layout: auto;" emptyMessage="#{overallBundle['box.overall.empty']}">

					<p:column headerText="#{contractBundle['box.contract.product']}">
						<h:outputText value="#{entryCorrection.entry.productOffering.objectName}"/>
					</p:column>

					<p:column headerText="#{contractBundle['box.contract.pricelist']}">
						<h:outputText value="#{entryCorrection.pricelistName}"/>
					</p:column>

					<p:column headerText="#{contractBundle['box.contract.cost']}">
						<boxenv:money value="#{entryCorrection.price}" unicolour="true" size="fs14"/>
						<h:outputText id="ptttp" class="icon-info_outline tooltip-help-3 m-fright"
									  position="top" 
									  title="#{contractBundle['box.contract.provision.terms']}: #{entryCorrection.provisionTermsName}&#013;#{overallBundle['box.overall.desc']}: #{entryCorrection.provisionTermsDescription}"/>
						<p:tooltip id="ttp" for="ptttp" />
					</p:column>

					<p:column headerText="#{contractBundle['box.contract.personal_account']}">
						<h:outputText value="#{entryCorrection.account.number}" rendered="#{entryCorrection.hasAccount}"/>

						<p:selectOneMenu id="account" value="#{entryCorrection.account}" rendered="#{not entryCorrection.hasAccount}"
										 required="#{not entryCorrection.hasAccount}" 
										 label="#{contractBundle['box.contract.personal_account']}" 
										 styleClass="width-100-percents">
							<f:selectItems value="#{contractLifecycleExtenderFm.accounts}" var="account"
										   itemValue="#{account}" itemLabel="#{account.number}"/>
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="#{contractBundle['box.contract.privilege.on_activate']}">
						<ui:fragment rendered="#{entryCorrection.hasPrivilege}">
							<h:outputText id="privilege_type" value="#{entryCorrection.privilegeType.name}" styleClass="m-mar-right3"/>
							<h:outputText id="privilege_duration" value="#{entryCorrection.privilegeDuration}"/>
							<p:selectBooleanCheckbox value="#{entryCorrection.usePrivilege}" styleClass="m-fright"/>
						</ui:fragment>
					</p:column>

				</p:dataTable>
			</div>
		</ui:fragment>
	</ui:define>

</ui:composition>