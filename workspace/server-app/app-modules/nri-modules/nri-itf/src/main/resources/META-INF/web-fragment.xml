<?xml version="1.0" encoding="UTF-8"?>
<web-fragment 
	xmlns="http://xmlns.jcp.org/xml/ns/javaee" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-fragment_3_1.xsd"	version="3.1">

	<name>nri_itf</name>

    <!-- сервлет для поддерки rest-сервисов -->
    <servlet-mapping>
        <servlet-name>javax.ws.rs.core.Application</servlet-name>
        <url-pattern>/webresources/*</url-pattern>
    </servlet-mapping>

    <security-constraint>
        <display-name>BuildingElementTypeView</display-name>
        <web-resource-collection>
            <web-resource-name>building_element_type_directory_view_web_resource</web-resource-name>
            <url-pattern>/views/nri/building/BuildingElementTypeView.xhtml</url-pattern>
        </web-resource-collection>
        <auth-constraint>
            <role-name>Nri_BuildingAreaTypeView</role-name>
        </auth-constraint>
    </security-constraint>

    <security-constraint>
        <display-name>BuildingElementTypeView</display-name>
        <web-resource-collection>
            <web-resource-name>building_element_type_directory_view_web_resource</web-resource-name>
            <url-pattern>/views/nri/building/BuildingElementTypeView.xhtml</url-pattern>
        </web-resource-collection>
        <auth-constraint>
            <role-name>Nri_BuildingAreaTypeView</role-name>
        </auth-constraint>
    </security-constraint>

    <security-constraint>
        <display-name>BuildingStructureView</display-name>
        <web-resource-collection>
            <web-resource-name>building_structure_view_web_resource</web-resource-name>
            <url-pattern>/views/nri/building/BuildingStructureView.xhtml</url-pattern>
        </web-resource-collection>
        <auth-constraint>
            <role-name>Nri_BuildingStructureView</role-name>
        </auth-constraint>
    </security-constraint>

    <security-constraint>
        <display-name>ResourceInfoView</display-name>
        <web-resource-collection>
            <web-resource-name>resource_info_view_web_resource</web-resource-name>
            <url-pattern>/views/nri/resources/ResourceView.xhtml</url-pattern>
            <url-pattern>/views/nri/building/ResourceInstallationView.xhtml</url-pattern>
            <url-pattern>/views/nri/resources/ResourcesView.xhtml</url-pattern>
        </web-resource-collection>
        <auth-constraint>
            <role-name>Nri_ResourceInfoView</role-name>
        </auth-constraint>
    </security-constraint>

    <security-constraint>
        <display-name>ServiceSpecificationView</display-name>
        <web-resource-collection>
            <web-resource-name>service_specification_view_web_resource</web-resource-name>
            <url-pattern>/views/nri/service/ServiceSpecificationView.xhtml</url-pattern>
            <url-pattern>/views/nri/service/ServiceSpecificationsView.xhtml</url-pattern>
        </web-resource-collection>
        <auth-constraint>
            <role-name>Nri_ServiceSpecificationView</role-name>
        </auth-constraint>
    </security-constraint>

    <security-constraint>
        <display-name>ServiceSpecificationEdit</display-name>
        <web-resource-collection>
            <web-resource-name>service_specification_view_web_resource</web-resource-name>
            <url-pattern>/views/nri/service/ServiceSpecificationView.xhtml</url-pattern>
        </web-resource-collection>
        <auth-constraint>
            <role-name>Nri_ServiceSpecificationEdit</role-name>
        </auth-constraint>
    </security-constraint>

    <security-constraint>
        <display-name>LogicalResourceSpecificationView</display-name>
        <web-resource-collection>
            <web-resource-name>logical_resource_specification_view_web_resource</web-resource-name>
            <url-pattern>/views/nri/logical/LogicalResourcesSpecDirectoryView.xhtml</url-pattern>
        </web-resource-collection>
        <auth-constraint>
            <role-name>Nri_LogicalResourceSpecView</role-name>
        </auth-constraint>
    </security-constraint>

    <security-constraint>
        <display-name>LogicalResourceSpecificationEdit</display-name>
        <web-resource-collection>
            <web-resource-name>logical_resource_specification_view_web_resource</web-resource-name>
            <url-pattern>/views/nri/logical/LogicalResourcesSpecDirectoryView.xhtml</url-pattern>
        </web-resource-collection>
        <auth-constraint>
            <role-name>Nri_LogicalResourceSpecEdit</role-name>
        </auth-constraint>
    </security-constraint>

    <security-constraint>
        <display-name>PhoneNumberPoolView</display-name>
        <web-resource-collection>
            <web-resource-name>phone_number_pool_view_web_resource</web-resource-name>
            <url-pattern>/views/nri/logicalresources/PhoneNumberPoolView.xhtml</url-pattern>
            <url-pattern>/views/nri/logicalresources/PhoneNumbersView.xhtml</url-pattern>
            <url-pattern>/views/nri/logicalresources/PhoneNumberView.xhtml</url-pattern>
        </web-resource-collection>
        <auth-constraint>
            <role-name>Nri_PhoneNumberPoolView</role-name>
        </auth-constraint>
    </security-constraint>

    <security-constraint>
        <display-name>ResourceLifecycleView</display-name>
        <web-resource-collection>
            <web-resource-name>resource_lifecycle_view_web_resource</web-resource-name>
            <url-pattern>/views/nri/resources/lifecycle/LifecyclesView.xhtml</url-pattern>
        </web-resource-collection>
        <auth-constraint>
            <role-name>Nri_ResourceLifecycleView</role-name>
        </auth-constraint>
    </security-constraint>

    <security-constraint>
        <display-name>ResourceLifecycleEdit</display-name>
        <web-resource-collection>
            <web-resource-name>resource_lifecycle_edit_web_resource</web-resource-name>
            <url-pattern>/views/nri/resources/lifecycle/LifecyclesView.xhtml</url-pattern>
        </web-resource-collection>
        <auth-constraint>
            <role-name>Nri_ResourceLifecycleEdit</role-name>
        </auth-constraint>
    </security-constraint>
    <security-constraint>
        <display-name>IpAddressesView</display-name>
        <web-resource-collection>
            <web-resource-name>ip_addresses_view_web_resource</web-resource-name>
            <url-pattern>/views/nri/logicalresources/ipaddress/IpAddressesView.xhtml</url-pattern>
            <url-pattern>/views/nri/logicalresources/ipsubnet/IpSubnetView.xhtml</url-pattern>
            <url-pattern>/views/nri/logicalresources/ipaddress/IpAddressView.xhtml</url-pattern>
        </web-resource-collection>
        <auth-constraint>
            <role-name>Nri_IpAddressesView</role-name>
        </auth-constraint>
    </security-constraint>

    <security-constraint>
        <display-name>NetworkMapView</display-name>
        <web-resource-collection>
            <web-resource-name>network_map_view_web_resource</web-resource-name>
            <url-pattern>/views/nri/map/NetworkMapView.xhtml</url-pattern>
        </web-resource-collection>
        <auth-constraint>
            <role-name>Nri_NetworkMapView</role-name>
        </auth-constraint>
    </security-constraint>

    <!-- REST-сервис для получения фич с информацией о портовой ёмкости -->
    <security-constraint>
        <display-name>TechService: Access Ports Features</display-name>
        <web-resource-collection>
            <web-resource-name>techservice_accessports_features</web-resource-name>
            <url-pattern>/webresources/techservice/ptvmap/accessports/*</url-pattern>
        </web-resource-collection>
    </security-constraint>

</web-fragment>