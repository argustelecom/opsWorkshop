<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
                xmlns:pm="http://primefaces.org/modena" xmlns:f="http://java.sun.com/jsf/core">

    <f:loadBundle basename="ReportBundle" var="reportBundle" />
    <script>
        $( document ).ready(function() {
            Argus.System.AutoHeight.compute('report_type_tab_view', 25);
        });
    </script>

    <p:tabView id="report_type_tab_view" styleClass="m-shadow-effect" activeIndex="#{reportTypeMetadataFs.activeTab}">
        <p:ajax event="tabChange" update="report_type_tab_view-type_property_form" listener="#{reportTypeMetadataFs.onTabChange}"/>

        <p:tab title="#{reportBundle['box.report.tab.query.plural']}">
            <div class="m-container35 m-responsive100">
                <div class="m-container100">
                    <div class="m-container-indent">
                        <ui:include src="ReportBandModelTreeFrame.xhtml">
                            <ui:param name="reportType" value="#{currentType.value}"/>
                            <ui:param name="readonly" value="#{currentType.value.state == 'PUBLISHED'}"/>
                        </ui:include>
                    </div>
                </div>
            </div>
            <div class="m-container65 m-responsive100">
                <div class="m-container100">
                    <div class="m-container-indent">
                        <ui:include src="ReportBandModelFrame.xhtml">
                            <ui:param name="readonly" value="#{currentType.value.state == 'PUBLISHED'}"/>
                        </ui:include>
                    </div>
                </div>
            </div>
        </p:tab>
        <p:tab title="#{reportBundle['box.report.tab.param']}">
            <ui:include src="/views/env/type/TypePropertyFrame.xhtml">
                <ui:param name="parentId" value="report_type_tab_view-"/>
                <ui:param name="disabled" value="#{currentType.value.state == 'PUBLISHED'}"/>
            </ui:include>
        </p:tab>
        <p:tab title="#{reportBundle['box.report.template.plural']}">
            <ui:include src="/views/env/report/ReportTemplatesFrame.xhtml">
                <ui:param name="templateHolder" value="#{currentType.value}"/>
                <ui:param name="scrollable" value="true" />
                <ui:param name="scrollHeight" value="0" />
                <ui:param name="readonly" value="#{currentType.value.state == 'PUBLISHED'}"/>
            </ui:include>
        </p:tab>
    </p:tabView>


</ui:composition>