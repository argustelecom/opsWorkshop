<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
				xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
				xmlns:pm="http://primefaces.org/modena" xmlns:f="http://java.sun.com/jsf/core">

	<f:loadBundle var="orderBundle" basename="OrderBundle"/>
	<p:dialog id="add_requirement_dlg" header="#{orderBundle['box.order.requirement.create_dialog']}"
			  width="500" styleClass="icon-creation"
			  widgetVar="addRequirementDlgVar" resizable="false" modal="true" closable="false" dynamic="true">

		<p:selectManyMenu value="#{orderRequirementsFrameModel.selectedCommodityTypes}" converter="persistentIdentifiableConverter"
						  styleClass="width-100-percents m-box-size-border"
						  var="cs" filter="true" filterMatchMode="contains" showCheckbox="true" scrollHeight="300">
			<f:selectItems value="#{orderRequirementsFrameModel.possibleCommodityTypes}" var="commodityType"
						   itemLabel="#{commodityType.name}" itemValue="#{commodityType}"/>

			<p:column>
				<h:outputText value="#{cs.name}"/>
			</p:column>
		</p:selectManyMenu>

		<div class="dialog-footer-buttons">
			<p:commandButton id="cancel_button" value="#{overallBundle['box.overall.cancel']}" styleClass="m-blue-text-button"
							 update="add_requirement_dlg" process="@this" action="#{orderRequirementsFrameModel.cleanParams()}"
							 onclick="PF('addRequirementDlgVar').hide()"/>
			<p:commandButton id="add_button" value="#{overallBundle['box.overall.create']}" process="add_requirement_dlg"
							 oncomplete="if (args &amp;&amp; !args.validationFailed) {PF('addRequirementDlgVar').hide()}"
							 action="#{orderRequirementsFrameModel.addRequirements()}" update="#{update}"/>
		</div>

	</p:dialog>

</ui:composition>