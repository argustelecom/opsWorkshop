<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core" xmlns:sysinf="http://argustelecom.ru/system-inf"
                xmlns:boxenv="http://argustelecom.ru/box/env">

    <div class="m-container100 m-responsive100">
        <div class="m-container-indent">
            <div class="m-card m-shadow-effect simple-fb">
                <h:form id="bill_history_form">
                    <f:event type="preRenderComponent" listener="#{billHistoryFm.preRender()}"/>

                    <div class="ui-dashboard-header">
                        <i class="icon-history"/>
                        <h:outputText styleClass="card-header" value="#{billBundle['box.bill.history']}"/>
						<h:outputText id="plpottp" class="icon-help_outline tooltip-help-15" position="top"
									  title="#{billBundle['box.bill.history.hint']}"/>
						<p:tooltip id="plpo_ttp" for="plpottp"/>
                    </div>

                    <p:dataTable value="#{billHistoryFm.billHistoryItemDtoList}" var="history" paginator="true" tableStyle="table-layout: auto;" rowsPerPageTemplate="5,10,15"
                                 rows="5" paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="{startRecord} - {endRecord} #{overallBundle['box.overall.from']} {totalRecords}"
                                 styleClass="paginator-top-hidden borderless header-border right-shift" emptyMessage="#{overallBundle['box.overall.empty']}">

                        <p:column headerText="#{billBundle['box.bill.history.change_date']}">
                            <h:outputText value="#{history.changedDate}">
                                <sysinf:convertDateTime pattern="#{dateUtils.DATETIME_DEFAULT_PATTERN}"/>
                            </h:outputText>
                        </p:column>

                        <p:column headerText="#{billBundle['box.bill.history.employee']}">
                            <h:outputText value="#{history.employeeName}"/>
                        </p:column>

                        <p:column headerText="#{billBundle['box.bill.history.version']}" styleClass="width-20-percents">
                            <boxenv:linkToCard text="#{billBundle['box.bill.history.version']} #{history.version + 1}" value="#{history.getIdentifiable()}"/>
                        </p:column>

                    </p:dataTable>
                </h:form>
            </div>
        </div>
    </div>

</ui:composition>