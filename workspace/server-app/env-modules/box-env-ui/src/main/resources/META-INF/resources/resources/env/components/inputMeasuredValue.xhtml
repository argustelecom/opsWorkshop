<ui:component xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:o="http://omnifaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough" xmlns:sysinf="http://argustelecom.ru/system-inf"
	xmlns:cc="http://java.sun.com/jsf/composite">

	<cc:interface componentType="inputMeasuredValue">
		<cc:attribute name="id" />
		<cc:attribute name="widgetVar" />
		<cc:attribute name="value" type="ru.argustelecom.box.env.measure.model.MeasuredValue" />
		<cc:attribute name="defaultMeasure" type="ru.argustelecom.box.env.measure.model.MeasureUnit" />
		<cc:attribute name="baseMeasure" type="ru.argustelecom.box.env.measure.model.BaseMeasureUnit" />
		<cc:attribute name="requiredForChild" type="java.lang.Boolean" />
		<cc:attribute name="rendered" type="java.lang.Boolean" />
		<cc:attribute name="label" type="java.lang.String" />
	</cc:interface>

	<cc:implementation>
		<h:outputStylesheet name="box-env/styles/components.css" target="head" />

		<p:panelGrid id="#{cc.attrs.id}" widgetVar="#{cc.attrs.widgetVar}" rendered="#{cc.attrs.rendered}" columns="2"
			styleClass="ui-input-measured-value">

			<p:inputText id="rawValue" value="#{cc.rawValue}" required="#{cc.requiredForChild}" converter="javax.faces.Double"
						 label="#{cc.attrs.label}"/>

			<p:selectOneMenu id="rawMeasureSelect" value="#{cc.rawMeasure}" rendered="#{cc.canSelectMeasure()}" label="#{cc.attrs.label}"
				converter="omnifaces.SelectItemsConverter">
				<f:selectItems value="#{cc.possibleMeasures}" var="measure" itemValue="#{measure}" itemLabel="#{measure.symbol}" />
			</p:selectOneMenu>
			<p:outputLabel id="rawMeasureOutput" value="#{cc.rawMeasure.symbol}" rendered="#{not cc.canSelectMeasure()}" />
		</p:panelGrid>
	</cc:implementation>
</ui:component>
