<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
                xmlns:pm="http://primefaces.org/modena" xmlns:f="http://java.sun.com/jsf/core">

    <f:loadBundle var="customerBundle" basename="CustomerBundle"/>
    <f:event type="preRenderComponent" listener="#{organizationDataFM.preRender(organization)}"/>

    <div class="columns">

        <div class="column m-container100 m-responsive100">
            <sysinf:editableSection disabled="#{!p:ifGranted('CRM_CustomerEdit')}"
                                    saveLabel="#{overallBundle['box.overall.save']}"
                                    cancelLabel="#{overallBundle['box.overall.cancel']}">

                <p:ajax event="save" listener="#{organizationDataFM.handleSave()}"/>
                <dl class="name-value width-150">

                    <dt>
                        <p:outputLabel for="company_type" value="#{overallBundle['box.overall.type']}:"/>
                    </dt>
                    <dd>
                        <h:outputText styleClass="m-disp-block m-mar-left-8" id="company_type"
                                      value="#{organizationDataFM.odDto.typeName}"/>
                    </dd>

                    <dt>
                        <p:outputLabel for="legal_name" value="#{customerBundle['box.customer.legal_name']}:"/>
                    </dt>
                    <dd class="title-limit-col1">
                        <p:inputText id="legal_name" value="#{organizationDataFM.odDto.companyData.legalName}"
                                     required="true" maxlength="256" label="#{customerBundle['box.customer.legal_name']}"/>
                    </dd>

                    <dt>
                        <p:outputLabel for="brand_name" value="#{customerBundle['box.customer.brand_name']}"/>
                    </dt>
                    <dd>
                        <p:inputText id="brand_name" value="#{organizationDataFM.odDto.companyData.brandName}"
                                     maxlength="256"/>
                    </dd>

                </dl>
            </sysinf:editableSection>
        </div>
    </div>

</ui:composition>