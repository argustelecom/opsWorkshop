<ui:composition template="/views/inf/page/View.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
                xmlns:pm="http://primefaces.org/modena">

    <f:loadBundle basename="SaldoExportBundle" var="saldoExportBundle"/>

    <ui:param name="viewModel" value="#{saldoExportVM}"/>
    <ui:param name="pageTitle" value="#{saldoExportBundle['box.saldo.export']}" />


    <ui:define name="head">
        <h:outputStylesheet name="box-env/styles/box-env.css"/>
        <h:outputStylesheet name="inf/styles/box-functional-block.css"/>
    </ui:define>

    <ui:define name="pagePath">
		<p:menuitem value="#{overallBundle['box.overall.home']}" url="/views/env/home/HomeView.xhtml"/>
        <p:menuitem value="#{saldoExportBundle['box.saldo.export']}"/>
    </ui:define>

    <ui:define name="body">

        <div class="m-container100 m-responsive100">

            <div class="m-container65 m-responsive100">

                <ui:include src="SaldoExportParamFrame.xhtml"/>

                <ui:include src="SaldoExportHistoryFrame.xhtml"/>

                <ui:include src="SaldoExportOperationHistoryFrame.xhtml"/>
            </div>

            <div class="m-container35 m-responsive100">
                <ui:include src="SaldoExportEmailFrame.xhtml">
                    <ui:param name="frameModel" value="#{emailsForSuccessFM}"/>
                    <ui:param name="param" value="#{saldoExportVM.param}"/>
                    <ui:param name="headerIcon" value="icon-attach_file"/>
                    <ui:param name="formId" value="saldo_export_emails_form"/>
                    <ui:param name="emails" value="#{saldoExportVM.param.emailsForSuccess}"/>
                    <ui:param name="emailsDM" value="#{emailsForSuccessEditDM}"/>
                    <ui:param name="frameHeader" value="#{saldoExportBundle['box.saldo.export.email.delivery']}"/>
                    <ui:param name="emptyMessage" value="#{saldoExportBundle['box.saldo.export.email.delivery.empty']}"/>
                    <ui:param name="emailEditDlgId" value="saldo_export_emails_for_success_dlg_form"/>
                    <ui:param name="dlgWidgetVar" value="EmailForSuccessDlgVar"/>
                </ui:include>

                <ui:include src="SaldoExportEmailFrame.xhtml">
                    <ui:param name="frameModel" value="#{emailsForErrorFM}"/>
                    <ui:param name="param" value="#{saldoExportVM.param}"/>
                    <ui:param name="headerIcon" value="icon-error_outline"/>
                    <ui:param name="formId" value="saldo_export_emails_for_error_form"/>
                    <ui:param name="emails" value="#{saldoExportVM.param.emailsForError}"/>
                    <ui:param name="emailsDM" value="#{emailsForErrorEditDM}"/>
                    <ui:param name="frameHeader" value="#{saldoExportBundle['box.saldo.export.email.error']}"/>
                    <ui:param name="emptyMessage" value="#{saldoExportBundle['box.saldo.export.email.error.empty']}"/>
                    <ui:param name="emailEditDlgId" value="saldo_export_emails_for_error_dlg_form"/>
                    <ui:param name="dlgWidgetVar" value="EmailForErrorDlgVar"/>
                </ui:include>
            </div>
        </div>
    </ui:define>

    <ui:define name="dialogs">

        <ui:include src="SaldoExportParamDialog.xhtml">
            <ui:param name="update" value="saldo_export_settings_form-saldo_export_settings_panel history_form"/>
        </ui:include>

        <ui:include src="SaldoExportEmailDialog.xhtml">
            <ui:param name="emailsDM" value="#{emailsForSuccessEditDM}"/>
            <ui:param name="formId" value="saldo_export_emails_for_success_dlg_form"/>
            <ui:param name="update" value="saldo_export_emails_form"/>
            <ui:param name="dlgWidgetVar" value="EmailForSuccessDlgVar"/>
        </ui:include>

        <ui:include src="SaldoExportEmailDialog.xhtml">
            <ui:param name="emailsDM" value="#{emailsForErrorEditDM}"/>
            <ui:param name="formId" value="saldo_export_emails_for_error_dlg_form"/>
            <ui:param name="update" value="saldo_export_emails_for_error_form"/>
            <ui:param name="dlgWidgetVar" value="EmailForErrorDlgVar"/>
        </ui:include>

    </ui:define>

</ui:composition>