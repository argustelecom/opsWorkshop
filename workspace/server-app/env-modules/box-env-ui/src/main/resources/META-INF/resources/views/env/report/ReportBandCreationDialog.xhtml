<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:o="http://omnifaces.org/ui"
				xmlns:sysinf="http://argustelecom.ru/system-inf" xmlns:pm="http://primefaces.org/modena"
				xmlns:f="http://java.sun.com/jsf/core" xmlns:boxenv="http://argustelecom.ru/box/env">

	<f:loadBundle var="reportBundle" basename="ReportBundle"/>
	<h:form id="report_band_creation_form">

		<p:dialog id="report_band_creation_dlg" header="#{reportBundle['box.report.band.create']}" width="500"
				  widgetVar="reportBandCreationDlgVar" styleClass="icon-creation"
				  resizable="false" modal="true" closable="false" dynamic="true">

			<dl class="name-value width-190">

				<dt>
					<p:outputLabel for="band_name" value="#{overallBundle['box.overall.name']}:"/>
				</dt>
				<dd>
					<p:inputText id="band_name" value="#{reportBandCreationDm.creationDto.keyword}" required="true"
								 maxlength="128" label="#{overallBundle['box.overall.name']}">
						<f:validateRegex pattern="[a-zA-Z_0-9]*"/>
					</p:inputText>
				</dd>

				<dt>
					<p:outputLabel for="data_loader_type" value="#{reportBundle['box.report.band.loader_type']}:"/>
				</dt>
				<dd>
					<o:importConstants type="ru.argustelecom.box.env.report.model.DataLoaderType" var="dataLoaderType"/>

					<p:selectOneMenu id="data_loader_type" value="#{reportBandCreationDm.creationDto.dataLoaderType}" required="true"
								 maxlength="128" label="#{reportBundle['box.report.band.loader_type']}">
						<f:selectItems value="#{dataLoaderType.values()}" var="dlt" itemValue="#{dlt}" itemLabel="#{dlt}"/>
					</p:selectOneMenu>
				</dd>

				<dt>
					<p:outputLabel for="orientation" value="#{reportBundle['box.report.band.orientation']}:"/>
				</dt>
				<dd>
					<o:importConstants type="com.haulmont.yarg.structure.BandOrientation" var="bandOrientation"/>

					<p:selectOneMenu id="orientation" value="#{reportBandCreationDm.creationDto.orientation}" required="true"
								 maxlength="128" label="#{reportBundle['box.report.band.orientation']}">
						<f:selectItems value="#{bandOrientation.values()}" var="bo" itemValue="#{bo}" itemLabel="#{bo}"/>
					</p:selectOneMenu>
				</dd>

				<dt>
					<p:outputLabel for="parent" value="#{reportBundle['box.report.band.parent']}:"/>
				</dt>
				<dd>
					<h:outputText id="parent" value="#{reportBandCreationDm.parent.keyword}"/>
				</dd>
			</dl>

			<div class="dialog-footer-buttons">
				<p:commandButton id="cancel_button" styleClass="m-blue-text-button" action="#{reportBandCreationDm.clean()}"
								 value="#{overallBundle['box.overall.cancel']}"
								 update="report_band_creation_form" process="@this"
								 onclick="PF('reportBandCreationDlgVar').hide()" resetValues="true"/>
				<p:commandButton id="create_button" value="#{overallBundle['box.overall.create']}"
								 update="#{update}" action="#{reportBandCreationDm.create()}"
								 oncomplete="if (args &amp;&amp; !args.validationFailed) {PF('reportBandCreationDlgVar').hide()}"/>
			</div>
		</p:dialog>
	</h:form>
</ui:composition>