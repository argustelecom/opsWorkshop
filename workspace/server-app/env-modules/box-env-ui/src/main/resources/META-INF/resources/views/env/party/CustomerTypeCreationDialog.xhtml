<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
				xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
				xmlns:pm="http://primefaces.org/modena" xmlns:f="http://java.sun.com/jsf/core">
	
	<f:loadBundle var="customerTypeBundle" basename="CustomerTypeBundle"/>
	<h:form id="customer_type_creation_form">
		<p:dialog id="customer_type_creation_dlg" header="#{customerTypeBundle['box.customer.type.create_dialog']}" width="500" styleClass="icon-creation"
                  widgetVar="customerTypeCreationDlgVar" resizable="false" modal="true" closable="false" dynamic="true">

			<dl class="name-value width-130">
				<dt>
					<p:outputLabel for="new_category" value="#{overallBundle['box.overall.category']}:"/>
				</dt>
				<dd>
					<h:outputText id="new_category" value="#{customerTypeCreationDm.newCategory.name}"/>
				</dd>

				<dt>
					<p:outputLabel for="new_name" value="#{overallBundle['box.overall.name']}:"/>
				</dt>
				<dd>
					<p:inputText id="new_name" value="#{customerTypeCreationDm.newName}" required="true"
								 maxlength="64" label="#{overallBundle['box.overall.name']}"/>
				</dd>

				<dt>
					<p:outputLabel for="new_party_type" value="#{customerTypeBundle['box.customer.type.party.type']}:"/>
				</dt>
				<dd>
					<p:selectOneMenu id="new_party_type" value="#{customerTypeCreationDm.newPartyType}" var="newPartyType"
									 required="true" filter="true" filterMatchMode="startWith"
									 label="#{customerTypeBundle['box.customer.type.party.type']}">
						<f:selectItems value="#{customerTypeCreationDm.allPartyTypes}" var="partyType"
									   itemValue="#{partyType}" itemLabel="#{partyType.objectName}"/>

						<p:column>
							<i class="#{newPartyType.category.icon}"/>
						</p:column>

						<p:column>
							<h:outputText value="#{newPartyType.objectName}"/>
						</p:column>
					</p:selectOneMenu>
				</dd>

				<!--<dt>
					<p:outputLabel for="new_keyword" value="#{overallBundle['box.overall.keyword}:"/>
				</dt>
				<dd>
					<p:inputText id="new_keyword" value="#{customerTypeCreationDm.newKeyword}" maxlength="64"/>
				</dd>-->

				<dt>
					<p:outputLabel for="new_description" value="#{overallBundle['box.overall.desc']}:"/>
				</dt>
				<dd>
					<p:inputTextarea id="new_description" value="#{customerTypeCreationDm.newDescription}" rows="3" cols="30"
									 counter="description_display" maxlength="256"
									 counterTemplate="#{overallBundle['box.overall.chars_left']}" autoResize="false"/>
					<h:outputText id="description_display" styleClass="fs12"/>
				</dd>
			</dl>

			<div class="dialog-footer-buttons">
				<p:commandButton id="cancel_button" value="#{overallBundle['box.overall.cancel']}"
								 styleClass="m-blue-text-button" update="customer_type_creation_dlg #{updateWhenCancel}"
								 process="@this" action="#{customerTypeCreationDm.cleanParams()}" onclick="PF('customerTypeCreationDlgVar').hide()"/>
				<p:commandButton id="create_button" value="#{overallBundle['box.overall.create']}"
								 oncomplete="if (args &amp;&amp; !args.validationFailed) {PF('customerTypeCreationDlgVar').hide()}"
								 action="#{customerTypeDirectoryVm.onCustomerTypeCreated()}" update="#{update}"/>
			</div>

		</p:dialog>
	</h:form>

</ui:composition>