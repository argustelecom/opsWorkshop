<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions">

    <f:loadBundle var="saldoExportBundle" basename="SaldoExportBundle"/>
    <h:form id="saldo_settings_dlg_form">
        <p:dialog id="saldo_export_settings_dlg" header="#{saldoExportBundle['box.saldo.export.param.edit_dialog']}" width="750"
                  widgetVar="saldoExportSettingsDlg" resizable="false" modal="true" closable="false" dynamic="true" styleClass="saldo-export-settings">
            <dl class="name-value width-370">
                <dt>
                    <p:outputLabel for="pexport" value="#{saldoExportBundle['box.saldo.export.period']}" />
                </dt>
                <dd>
                   <p:selectOneMenu id="pexport" value="#{saldoExportParamEditDM.newPeriodUnit}">

                        <p:ajax process="@this"/>

                        <f:selectItems value="#{saldoExportParamEditDM.periodUnits}" var="periodUnit"
                                       itemValue="#{periodUnit}" itemLabel="#{periodUnit}"/>
                    </p:selectOneMenu>
                </dd>
                <dt>
                    <p:outputLabel for="pstart" value="#{saldoExportBundle['box.saldo.export.param.period.start']}" />
                </dt>
                <dd>
                    <p:selectOneMenu id="pstart"
                                     value="#{saldoExportParamEditDM.newCalculationType}"
                                     disabled="true">

                        <p:ajax process="@this"/>

                        <f:selectItems value="#{saldoExportParamEditDM.calculationTypes}" var="calculationType"
                                       itemValue="#{calculationType}"
                                       itemLabel="#{calculationType.name}"/>
                    </p:selectOneMenu>
                </dd>
                <dt>
                    <p:outputLabel for="tstart" value="#{saldoExportBundle['box.saldo.export.param.period.start.time']}" />
                </dt>
                <dd class="datapicker">
                    <pe:timePicker id="tstart" value="#{saldoExportParamEditDM.newExecuteTime}"
                                   locale="#{languageBean.locale.language}" required="true"
                                   label="#{saldoExportBundle['box.saldo.export.param.period.start']}"/>
                </dd>
                <dt>
                    <p:outputLabel id="export_counter" value="#{saldoExportBundle['box.saldo.export.param.edit_dialog.reset']}"/>
                </dt>
                <dd>
                    <p:selectBooleanCheckbox for="export_counter" value="#{saldoExportParamEditDM.resetNumberGenerator}"/>
                </dd>
            </dl>
            <div class="dialog-footer-buttons">
                <p:commandButton id="cancel_button" value="#{overallBundle['box.overall.cancel']}"
                                 styleClass="m-blue-text-button" process="@this" update="saldo_export_settings_form-saldo_export_settings_panel"
                                 action="#{saldoExportParamEditDM.cancel()}" onclick="PF('saldoExportSettingsDlg').hide()" />
                <p:commandButton id="save_button" value="#{overallBundle['box.overall.save']}"
                                 oncomplete="if (args &amp;&amp; !args.validationFailed) {PF('saldoExportSettingsDlg').hide()}"
                                 action="#{saldoExportParamEditDM.save()}" update="#{update}"/>
            </div>
        </p:dialog>
    </h:form>
</ui:composition>