<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
				xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
				xmlns:pm="http://primefaces.org/modena" xmlns:f="http://java.sun.com/jsf/core">

	<o:importConstants type="ru.argustelecom.box.env.product.ProductTypeCategory" var="category"/>

	<f:loadBundle var="productBundle" basename="ProductBundle"/>
	<h:form id="add_product_type_form">
		<p:dialog id="add_product_type_dlg" header="#{productBundle['box.product.dir.composition.create_dialog']}" width="500" styleClass="add-product-type"
				  widgetVar="addProductTypeDlgVar" resizable="false" modal="true" closable="false" dynamic="true">

			<p:selectManyMenu value="#{productTypeCompositionFm.selectedProductTypes}" converter="persistentIdentifiableConverter"
							  var="ps" filter="true" filterMatchMode="contains" showCheckbox="true" scrollHeight="300" style="width: 100%">
				<f:selectItems value="#{productTypeCompositionFm.possibleProductTypes}" var="commodityType"
							   itemLabel="#{commodityType.name}" itemValue="#{commodityType}"/>

				<p:column>
					<h:outputText value="#{ps.name}"/>
				</p:column>
			</p:selectManyMenu>

			<div class="dialog-footer-buttons">

				<p:commandButton id="cancel_button" value="#{overallBundle['box.overall.cancel']}" styleClass="m-blue-text-button" update="add_product_type_dlg"
								 process="@this" action="#{productTypeCompositionFm.cleanParams()}" onclick="PF('addProductTypeDlgVar').hide()"/>
				<p:commandButton id="add_button" value="#{overallBundle['box.overall.create']}" oncomplete="if (args &amp;&amp; !args.validationFailed) {PF('addProductTypeDlgVar').hide()}"
								 action="#{productTypeCompositionFm.addProductTypes()}" update="#{update}"/>
			</div>

		</p:dialog>
	</h:form>

</ui:composition>