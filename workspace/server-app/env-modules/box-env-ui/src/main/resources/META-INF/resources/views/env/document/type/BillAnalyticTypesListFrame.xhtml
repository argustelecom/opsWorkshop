<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui"
				xmlns:f="http://java.sun.com/jsf/core">

	<f:loadBundle var="documentTypeBundle" basename="DocumentTypeBundle"/>
	<o:importConstants type="ru.argustelecom.box.env.document.type.BillAnalyticTypeFrameModel"/>
	<o:importFunctions type="ru.argustelecom.box.env.billing.bill.model.BillAnalyticType.AnalyticCategory"
					   var="category"/>

	<div id="bill-analytic-list" class="bill-analytic-list">
		<ui:repeat value="#{rows.entrySet().toArray()}" var="mapEntry">
			<div class="bill-analytic-list-category">
				<h:outputText styleClass="m-disp-inl-block bill-analytic-list-name"
							  value="#{category:valueOf(mapEntry.key).name}"
							  rendered="#{mapEntry.key ne BillAnalyticTypeFrameModel.SUMMARY
							  and (billAnalyticTypesListFm.showCategoryName(mapEntry) or dialog)}"/>
				<h:outputText styleClass="m-disp-inl-block bill-analytic-list-name"
							  value="#{documentTypeBundle['box.doc.type.bill.amount']}"
							  rendered="#{mapEntry.key eq BillAnalyticTypeFrameModel.SUMMARY
							  and (billAnalyticTypesListFm.showCategoryName(mapEntry) or dialog)}"/>
				<ui:repeat var="entry" value="#{mapEntry.value}" >
					<h:panelGroup styleClass="m-disp-block">
						<ui:fragment rendered="#{entry.selected and !dialog}">
							<h:outputText styleClass="bill-analytic-list-value" value="#{entry.analyticTypeDto.name}"/>
						</ui:fragment>

						<ui:fragment rendered="#{dialog}">
							<p:selectBooleanCheckbox value="#{entry.selected}"/>
							<h:outputText styleClass="bill-analytic-list-value" value="#{entry.analyticTypeDto.name}"/>

							<ui:fragment rendered="#{entry.analyticTypeDto.description ne null}">
								<h:outputText id="tt1" class="icon-help_outline tooltip-help-5 m-mar-left-5" position="top"
											  title="#{entry.analyticTypeDto.description}"/>
								<p:tooltip id="tt1_ttp" for="tt1"/>
							</ui:fragment>
						</ui:fragment>
					</h:panelGroup>
				</ui:repeat>
			</div>
		</ui:repeat>
	</div>
</ui:composition>