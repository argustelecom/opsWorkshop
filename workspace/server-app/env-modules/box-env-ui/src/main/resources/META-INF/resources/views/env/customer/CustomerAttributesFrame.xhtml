<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
				xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
				xmlns:pm="http://primefaces.org/modena" xmlns:f="http://java.sun.com/jsf/core"
                xmlns:boxenv="http://argustelecom.ru/box/env">

	<div class="m-container100 m-responsive100">
		<div class="m-container-indent" >
			<div class="m-card m-shadow-effect m-hei-auto-on-mobile">
				<h:form id="customer_attributes_form">
					<div class="columns">

						<div class="column m-vertical-al-middle m-pad-0">
							<p:panelGrid id="customer_id_grid" columns="1" layout="grid" styleClass="ui-panelgrid-blank m-tex-al-center column-id">
								<i class="fs50 #{customerAttributesFrameModel.customer.typeInstance.type.category.icon}"/>
								<i class="fs22 #{customerCardViewModel.customer.vip ? 'fa fa-star m-gold' : ''} m-pos-absolute"/>
								<h:outputText styleClass="fs16" value="#{overallBundle['box.overall.id']} #{customerAttributesFrameModel.customer.id}"/>
							</p:panelGrid>
						</div>

						<div class="column width-100-percents">
							<ui:fragment rendered="#{customerAttributesFrameModel.individual}">
								<ui:include src="IndividualDataFrame.xhtml">
									<ui:param name="individual" value="#{customerAttributesFrameModel.customer}"/>
								</ui:include>
							</ui:fragment>

							<ui:fragment rendered="#{!customerAttributesFrameModel.individual}">
								<ui:include src="OrganizationDataFrame.xhtml">
									<ui:param name="organization" value="#{customerAttributesFrameModel.customer}"/>
								</ui:include>
							</ui:fragment>
						</div>

						<div class="column m-tex-al-right m-pad-0">
							<div class="width-180">
								<p:commandButton value="#{customerCardViewModel.isVipCustomer() ? customerBundle['box.customer.relegate'] : customerBundle['box.customer.promote']}"
												 action="#{customerAttributesFrameModel.toggleVipSign()}"
												 process="@this" update="customer_id_grid @this" styleClass="width-100-percents"
												 disabled="#{!p:ifGranted('CRM_CustomerEdit')}"/>
							</div>
						</div>
					</div>
				</h:form>
			</div>
		</div>
	</div>

</ui:composition>