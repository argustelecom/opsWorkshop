<ui:composition template="/views/inf/page/View.xhtml" xmlns="http://www.w3.org/1999/xhtml"
				xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
				xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
				xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
				xmlns:pm="http://primefaces.org/modena">

	<ui:param name="viewModel" value="#{queueManagerViewModel}" />
	<ui:param name="pageTitle" value="#{queueBundle['box.queue.management']}" />

	<ui:define name="pagePath">
		<p:menuitem value="#{overallBundle['box.overall.home']}" url="/views/env/home/HomeView.xhtml" />
		<p:menuitem value="#{queueBundle['box.queue.management']}"/>
	</ui:define>

	<ui:define name="head">
		<f:loadBundle var="queueBundle" basename="QueueBundle"/>
		<h:outputStylesheet name="box-env/styles/box-env.css" />
		<h:outputStylesheet name="inf/styles/box-functional-block.css" />
	</ui:define>

	<ui:define name="body">
		<div class="m-container100 m-responsive100">
			<div class="m-container-indent">
				<h:form id="queue_manager_form">
					<div class="m-card m-shadow-effect simple-fb">
						<div class="ui-dashboard-header">
							<i class="icon-queue" />
							<h:outputText value="#{queueBundle['box.queue']}" styleClass="card-header"/>
						</div>
						<div class="columns">
							<div class="column width-30-percents">
								<div style="margin-bottom : 10px;">
									<p:commandLink style="color: #455A64 !important;" action="#{queueManagerViewModel.startup()}" rendered="#{p:ifGranted('System_QueueManagerStatusEdit')}"
										disabled="#{!queueManagerViewModel.canStartup}" update="@form">
										<i class="fa fa-play-circle fs22"/>
										<span>#{queueBundle['box.queue.start']}</span>
									</p:commandLink>
                                </div>
                                <div>
                                	<p:commandLink style="color: #455A64 !important;" action="#{queueManagerViewModel.shutdown()}" rendered="#{p:ifGranted('System_QueueManagerStatusEdit')}"
										disabled="#{!queueManagerViewModel.canShutdown}" update="@form">
										<i class="fa fa-stop-circle fs22"/>
										<span>#{queueBundle['box.queue.shutdown']}</span>
									</p:commandLink>
								</div>
							</div>
							<div class="column width-70-percents">
								<p:outputLabel for="queue_status" value="#{overallBundle['box.overall.state']}: "/>
								<h:outputText id="queue_status" value="#{queueManagerViewModel.queueStatus}"/>
							</div>
						</div>
					</div>
				</h:form>
			</div>
		</div>
	</ui:define>

</ui:composition>