<ui:composition template="/views/inf/page/View.xhtml" xmlns="http://www.w3.org/1999/xhtml"
				xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
				xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
				xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
				xmlns:pm="http://primefaces.org/modena" xmlns:boxenv="http://argustelecom.ru/box/env">

	<ui:param name="viewModel" value="#{pricelistJournalViewModel}"/>
	<ui:param name="pageTitle" value="#{pricelistBundle['box.pricelist']}"/>
	<ui:param name="resultFormId" value="pricelist_search_result_form"/>

	<ui:define name="head">
		<h:outputStylesheet name="box-env/styles/box-env.css" />
		<h:outputStylesheet name="inf/styles/box-functional-block.css"/>
	</ui:define>

	<ui:define name="metadata">
		<f:metadata>
			<f:viewParam name="mode" value="#{pricelistJournalViewState.mode}" required="false"/>
			<f:viewParam name="name" value="#{pricelistJournalViewState.name}" required="false"/>
			<f:viewParam name="validFrom" value="#{pricelistJournalViewState.validFrom}" required="false">
				<sysinf:convertDateTime pattern="#{dateUtils.DATE_DEFAULT_PATTERN}"/>
			</f:viewParam>
			<f:viewParam name="validTo" value="#{pricelistJournalViewState.validTo}" required="false">
				<sysinf:convertDateTime pattern="#{dateUtils.DATE_DEFAULT_PATTERN}"/>
			</f:viewParam>
			<f:viewParam name="state" value="#{pricelistJournalViewState.state}"/>
			<f:viewParam name="segment" value="#{pricelistJournalViewState.segment}"/>
			<f:viewParam name="customerType" value="#{pricelistJournalViewState.customerType}"/>
			<f:viewParam name="customer" value="#{pricelistJournalViewState.customer}"/>
			<f:viewParam name="owner" value="#{pricelistJournalViewState.owner}"/>
		</f:metadata>
	</ui:define>

	<ui:define name="pagePath">
		<f:loadBundle basename="PricelistBundle" var="pricelistBundle"/>
		<f:loadBundle basename="LoginBundle" var="loginBundle"/>

		<p:menuitem value="#{overallBundle['box.overall.home']}" url="/views/env/home/HomeView.xhtml"/>
		<p:menuitem value="#{pricelistBundle['box.pricelist.plural']}"/>
	</ui:define>

	<ui:define name="body">
		<ui:include src="PricelistListFrame.xhtml">
			<ui:param name="viewState" value="#{pricelistJournalViewState}"/>
			<ui:param name="lazyDm" value="#{pricelistJournalViewModel.lazyDm}"/>
			<ui:param name="page" value="PricelistJournalListView.xhtml"/>
			<ui:param name="filterFormId" value="pricelist_search_form"/>
			<ui:param name="resultFormId" value="#{resultFormId}"/>
			<ui:param name="update" value="#{filterFormId}"/>
		</ui:include>
	</ui:define>

	<ui:define name="dialogs">
		<ui:include src="PricelistCreationDialog.xhtml">
			<ui:param name="update" value="#{resultFormId}-pricelist_creation_modes"/>
		</ui:include>
	</ui:define>

</ui:composition>
