<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:p="http://primefaces.org/ui" xmlns:boxenv="http://argustelecom.ru/box/env"
				xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
				xmlns:f="http://java.sun.com/jsf/core">

	<div class="m-container100">
		<div class="m-container-indent">
			<div class="m-card m-shadow-effect simple-fb">
				<h:form id="usage_invoice_details_form">

					<f:loadBundle var="tariffBundle" basename="TariffBundle"/>
					<f:loadBundle var="invoiceBundle" basename="InvoiceBundle"/>

					<f:event type="preRenderComponent" listener="#{usageInvoiceDetailFm.preRender(entriesDto)}"/>

					<div class="ui-dashboard-header">
						<i class="fa fa-indent"/>
						<h:outputText styleClass="card-header" value="#{invoiceBundle['box.invoice.detail_header']}"/>
					</div>

					<p:dataTable id="usage_invoice_entry" var="entry" value="#{usageInvoiceDetailFm.entries}" widgetVar="usageInvoiceTableVar"
								 disabledSelection="true" rowKey="#{entry.id}" emptyMessage="#{overallBundle['box.overall.empty']}" paginator="true"
								 rows="5" paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
								 currentPageReportTemplate="{startRecord} - {endRecord} #{overallBundle['box.overall.from']} {totalRecords}"
								 rowsPerPageTemplate="5,10,15">

						<p:column headerText="#{invoiceBundle['box.invoice.resource']}">
							<h:outputText value="#{entry.resourceNumber}"/>
						</p:column>

						<p:column headerText="#{invoiceBundle['box.invoice.zone']}">
							<h:outputText value="#{usageInvoiceDetailFm.getZoneById(entry.telephonyZoneId).name}"/>
						</p:column>

						<p:column headerText="#{tariffBundle['box.telephony.tariff']}">
							<boxenv:linkToCard text="#{usageInvoiceDetailFm.getTariffById(entry.tariffId).name}" value="#{usageInvoiceDetailFm.getTariffById(entry.tariffId).getIdentifiable()}"/>
						</p:column>

						<p:column headerText="#{tariffBundle['box.telephony.tariff.entry.cost']}">
							<boxenv:money id="total_price" value="#{usageInvoiceDetailFm.getMoneyByAmount(entry.amount)}"
							size="fs18"/>
						</p:column>
					</p:dataTable>

				</h:form>
			</div>
		</div>
	</div>

</ui:composition>