<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
			  	xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
			  	xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui"
				xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

	<div class="m-container100 m-responsive100">
		<div class="margin-16px">
			<o:importConstants type="ru.argustelecom.system.inf.validation.ValidationIssue.Kind"/>

			<p:dataTable value="#{tariffEntryImportDm.validationResult.keySet()}" var="result"
						 emptyMessage="#{overallBundle['box.overall.empty']}">

				<p:column styleClass="width-16">
					<ui:fragment rendered="#{tariffEntryImportDm.testKind(result, Kind.ERROR)}">
						<i class="icon-cross m-red fs16"/>
					</ui:fragment>
					<ui:fragment rendered="#{tariffEntryImportDm.testKind(result, Kind.INFO)}">
						<i class="icon-check m-green fs16"/>
					</ui:fragment>
				</p:column>

				<p:column styleClass="width-150">
					<ui:fragment rendered="#{tariffEntryImportDm.testKind(result, Kind.ERROR)}">
						<h:outputText
								value="#{tariffBundle['box.telephony.tariff.import.step.validation.not_ready_to_be_imported']}"/>
					</ui:fragment>
					<ui:fragment rendered="#{tariffEntryImportDm.testKind(result, Kind.INFO)}">
						<h:outputText
								value="#{tariffBundle['box.telephony.tariff.import.step.validation.ready_to_be_imported']}"/>
					</ui:fragment>
				</p:column>

				<p:column>
					<h:outputText value="#{result}"/>
				</p:column>

				<p:column styleClass="width-16">
					<h:outputText value="#{tariffEntryImportDm.validationResult.get(result).size()}"/>
				</p:column>

				<p:column styleClass="width-16">
					<p:commandLink title="#{overallBundle['box.overall.download']}" position="left"
								   ajax="false" process="@this" id="focus" icon="fa fa-download">
						<i class="icon-get_app fs20 m-bold-gray fs16" />
						<p:fileDownload value="#{tariffEntryImportDm.downloadValidationReport(result)}"/>
					</p:commandLink>
				</p:column>

			</p:dataTable>
		</div>
	</div>

	<h:panelGroup layout="block" styleClass="dialog-footer-buttons">
		<p:commandButton value="#{overallBundle['box.overall.back']}"
						 oncomplete="PF('entryImportWizardVar').back()"/>

		<p:commandButton value="#{tariffBundle['box.telephony.tariff.import.step.validation.import']}"
						 oncomplete="PF('entryImportWizardVar').next()"
						 disabled="#{!tariffEntryImportDm.canImport}"/>
	</h:panelGroup>
</ui:composition>
