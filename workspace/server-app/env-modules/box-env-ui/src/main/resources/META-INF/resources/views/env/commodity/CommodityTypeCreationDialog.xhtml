<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
				xmlns:o="http://omnifaces.org/ui" xmlns:sysinf="http://argustelecom.ru/system-inf"
				xmlns:pm="http://primefaces.org/modena" xmlns:f="http://java.sun.com/jsf/core">

	<f:loadBundle var="commodityTypeBundle" basename="CommodityTypeBundle"/>
	<h:form id="commodity_type_creation_form">
		<p:dialog id="commodity_type_creation_dlg" header="#{commodityTypeBundle['box.commodity.type.create_dialog']}" dynamic="true"
				  width="500" styleClass="icon-creation" widgetVar="commodityTypeCreationDlgVar" resizable="false" modal="true" closable="false">
			<dl class="name-value width-145">

				<dt>
					<p:outputLabel for="name" value="#{overallBundle['box.overall.name']}"/>
				</dt>
				<dd>
					<p:inputText id="name" value="#{commodityTypeCreationDm.creationDto.name}" required="true"
								 requiredMessage="#{overallBundle['box.overall.name']}"/>
				</dd>

				<ui:fragment rendered="#{commodityTypeCreationDm.groupCreation}">
					<dt>
						<p:outputLabel for="keyword" value="#{overallBundle['box.overall.keyword']}"/>
					</dt>
					<dd>
						<p:inputText id="keyword" value="#{commodityTypeCreationDm.creationDto.keyword}"/>
					</dd>
				</ui:fragment>
				<dt>
					<p:outputLabel for="group" value="#{overallBundle['box.overall.group']}"/>
				</dt>
				<dd>
					<p:selectOneMenu id="group" value="#{commodityTypeCreationDm.creationDto.group}" required="#{not commodityTypeCreationDm.groupCreation}"
									 label="#{overallBundle['box.overall.group']}">
						<f:selectItem itemValue=""/>
						<f:selectItems value="#{commodityTypeCreationDm.groups}" var="group" itemValue="#{group}" itemLabel="#{group.objectName}"/>
					</p:selectOneMenu>
				</dd>

				<ui:fragment rendered="#{not commodityTypeCreationDm.groupCreation}">
					<dt>
						<p:outputLabel for="description" value="#{overallBundle['box.overall.desc']}" />
					</dt>
					<dd class="auto-height">
						<p:inputTextarea id="description" value="#{commodityTypeCreationDm.creationDto.description}"
										 maxlength="256" counterTemplate="#{overallBundle['box.overall.chars_left']}"  
										 counter="type_desc_counter" />
						<h:outputText id="type_desc_counter" styleClass="fs12"/>
					</dd>
				</ui:fragment>
			</dl>
				
			<div class="dialog-footer-buttons">
				<p:commandButton id="cancel_button"  value="#{overallBundle['box.overall.cancel']}"
								 styleClass="m-blue-text-button" update="commodity_type_creation_dlg #{updatedElements}"
								 process="@this" action="#{commodityTypeCreationDm.clear()}"
								 onclick="PF('commodityTypeCreationDlgVar').hide()"/>
				<p:commandButton id="create_commodity_type_button" value="#{overallBundle['box.overall.create']}"
								 oncomplete="if (args &amp;&amp; !args.validationFailed) {PF('commodityTypeCreationDlgVar').hide()}"
								 action="#{commodityTypeCreationDm.create()}" update="#{updatedElements}"
								 process="commodity_type_creation_dlg"/>
			</div>
		</p:dialog>
	</h:form>
</ui:composition>	
			