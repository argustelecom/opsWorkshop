<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui"
	xmlns:sysinf="http://argustelecom.ru/system-inf"
                xmlns:f="http://java.sun.com/jsf/core">

	<div class="m-container100 m-responsive100">
		<div class="m-container-indent">
			<div class="m-card m-shadow-effect m-hei-auto-on-mobile">
				<h:form id="task_attributes_form">
					<p:outputPanel styleClass="fs14">
						<div class="columns">
							<div class="column m-pad-0">
								<p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank m-tex-al-center column-id">
									<i class="icon-assignment fs60"></i>
									<h:outputText value="#{overallBundle['box.overall.id']} #{taskCardViewModel.task.id}"/>
								</p:panelGrid>
							</div>
							<div class="column width-100-percents">
								<div class="columns">
									<div class="column m-container50 m-responsive100">
											<dl class="name-value width-130">
												<dt>
													<p:outputLabel for="task_number" value="#{overallBundle['box.overall.number']}:"/>
												</dt>
												<dd>
													<h:outputText id="task_number" value="#{taskCardViewModel.task.number}"/>
												</dd>

												<dt>
													<p:outputLabel for="task_type" value="#{taskBundle['box.task.type']}:"/>
												</dt>
												<dd>
													<h:outputText id="task_type" value="#{taskCardViewModel.task.taskType.name}"/>
												</dd>

												<dt>
													<p:outputLabel for="task_createdate" value="#{taskBundle['box.task.created']}:"/>
												</dt>
												<dd>
													<h:outputText id="task_createdate" value="#{taskCardViewModel.task.createDateTime}">
														<sysinf:convertDateTime pattern="#{dateUtils.DATE_DEFAULT_PATTERN}"/>
													</h:outputText>
												</dd>

												<dt>
													<p:outputLabel for="task_assignee" value="#{taskBundle['box.task.assignee']}:"/>
												</dt>
												<dd>
													<h:outputText id="task_assignee" value="#{taskCardViewModel.task.assignee.name}"/>
												</dd>
											</dl>
									</div>

									<div class="column m-fright m-pad-0">
										<div class="width-180">
											<p:commandButton value="#{taskBundle['box.task.assign']}" update="assignee_selection_dlg"
															 styleClass="width-100-percents m-mar-bot10" oncomplete="PF('assigneeSelectionDlgVar').show()"
															 disabled="#{!p:ifGranted('System_TaskListAssignPerformer') or !taskCardViewModel.canAssign()}">
												<f:setPropertyActionListener value="#{taskCardViewModel.task}" target="#{taskAssigneeDialogModel.selectedTask}"/>
                        						<f:setPropertyActionListener value="#{taskCardViewModel.assignCallback}" target="#{taskAssigneeDialogModel.callback}"/>
											</p:commandButton>

											<p:commandButton value="#{taskBundle['box.task.result.complete']}" styleClass="width-100-percents m-mar-bot10"
															 update="lifecycle_dlg" oncomplete="PF('lifecycleDlgVar').show();"
															 disabled="#{!p:ifGranted('System_TaskPerform') or !taskCardViewModel.canResolve()}">
												<f:setPropertyActionListener value="#{taskCardViewModel.task}" target="#{taskLifecycleDialogModel.selectedTask}"/>
												<f:setPropertyActionListener value="#{taskCardViewModel.resolveCallback}" target="#{taskLifecycleDialogModel.callback}"/>
											</p:commandButton>
										</div>
									</div>

								</div>
							</div>
						</div>
					</p:outputPanel>
				</h:form>
			</div>
		</div>
	</div>
</ui:composition>