<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:p="http://primefaces.org/ui"
				xmlns:f="http://java.sun.com/jsf/core">

	<f:loadBundle var="contractorBundle" basename="ContractorBundle"/>
	<h:form id="supplier_creation_form">
		<p:dialog id="supplier_creation_dlg" header="#{contractorBundle['box.contractor.creation']}" width="500"
				  styleClass="icon-creation"
				  widgetVar="supplierCreationDlgVar" resizable="false" modal="true" closable="false" dynamic="true">

			<dl class="name-value width-190">
				<dt>
					<p:outputLabel for="new_legal_name" value="#{contractorBundle['box.contractor.name']}:"/>
				</dt>
				<dd>
					<p:inputText id="new_legal_name" value="#{supplierCreationDm.newSupplierDto.legalName}"
								 required="true"
								 maxlength="256" label="#{contractorBundle['box.contractor.name']}"/>
				</dd>

				<dt>
					<p:outputLabel for="new_brand_name" value="#{contractorBundle['box.contractor.brand_name']}:"/>
				</dt>
				<dd>
					<p:inputText id="new_brand_name" value="#{supplierCreationDm.newSupplierDto.brandName}"
								 required="true"
								 maxlength="256" label="#{contractorBundle['box.contractor.brand_name']}"/>
				</dd>

				<dt>
					<p:outputLabel for="new_party_type" value="#{overallBundle['box.overall.party_type']}:"/>
				</dt>
				<dd>
					<p:selectOneMenu id="new_party_type" value="#{supplierCreationDm.newSupplierDto.type}"
									 required="true" maxlength="256">
						<f:selectItems value="#{supplierCreationDm.getPossiblePartyTypes()}" var="type"
									   itemLabel="#{type.name}"
									   itemValue="#{type}"/>
					</p:selectOneMenu>
				</dd>
			</dl>

			<div class="dialog-footer-buttons">
				<p:commandButton id="cancel_button" value="#{overallBundle['box.overall.cancel']}"
								 styleClass="m-blue-text-button"
								 process="@this"
								 onclick="PF('supplierCreationDlgVar').hide()"/>
				<p:commandButton id="create_button" value="#{overallBundle['box.overall.create']}"
								 oncomplete="if (args &amp;&amp; !args.validationFailed) {PF('supplierCreationDlgVar').hide()}"
								 action="#{supplierCreationDm.onSupplierCreated()}" update="new_legal_name new_brand_name"
								 process="supplier_creation_dlg"/>
			</div>

		</p:dialog>
	</h:form>

</ui:composition>